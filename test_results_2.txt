============================= test session starts =============================
platform win32 -- Python 3.14.0, pytest-9.0.2, pluggy-1.6.0
rootdir: C:\Users\User\OneDrive\Documents\GitHub\arifOS
configfile: pyproject.toml
plugins: anyio-4.12.0
collected 80 items

tests\test_runtime_manifest.py ......................................... [ 51%]
..............                                                           [ 68%]
tests\test_ledger_sanity.py ..........                                   [ 81%]
tests\test_v39_ci_guardrails.py FFFF.F.F.....                            [ 97%]
L7_DEMOS\examples\05_ccc_basic.py ..                                     [100%]

================================== FAILURES ===================================
____________ TestConstitutionalInvariants.test_floor_ids_semantic _____________

self = <tests.test_v39_ci_guardrails.TestConstitutionalInvariants object at 0x0000020A43739810>

    def test_floor_ids_semantic(self):
        """F# numbering must be semantic (F1=Truth through F9=AntiHantu)"""
        spec_path = REPO_ROOT / "spec" / "constitutional_floors_v38Omega.json"
>       with open(spec_path) as f:
             ^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'C:\\Users\\User\\OneDrive\\Documents\\GitHub\\arifOS\\spec\\constitutional_floors_v38Omega.json'

tests\test_v39_ci_guardrails.py:25: FileNotFoundError
____________ TestConstitutionalInvariants.test_precedence_explicit ____________

self = <tests.test_v39_ci_guardrails.TestConstitutionalInvariants object at 0x0000020A43739950>

    def test_precedence_explicit(self):
        """P# precedence must be defined for all 9 floors"""
        spec_path = REPO_ROOT / "spec" / "constitutional_floors_v38Omega.json"
>       with open(spec_path) as f:
             ^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'C:\\Users\\User\\OneDrive\\Documents\\GitHub\\arifOS\\spec\\constitutional_floors_v38Omega.json'

tests\test_v39_ci_guardrails.py:49: FileNotFoundError
_____________ TestConstitutionalInvariants.test_rasa_r1_enforced ______________

self = <tests.test_v39_ci_guardrails.TestConstitutionalInvariants object at 0x0000020A4368F230>

    def test_rasa_r1_enforced(self):
        """RASA R1 must have fail-closed enforcement"""
        spec_path = REPO_ROOT / "spec" / "constitutional_floors_v38Omega.json"
>       with open(spec_path) as f:
             ^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'C:\\Users\\User\\OneDrive\\Documents\\GitHub\\arifOS\\spec\\constitutional_floors_v38Omega.json'

tests\test_v39_ci_guardrails.py:70: FileNotFoundError
__________ TestConstitutionalInvariants.test_psi_canonical_preserved __________

self = <tests.test_v39_ci_guardrails.TestConstitutionalInvariants object at 0x0000020A4368F360>

    def test_psi_canonical_preserved(self):
        """Psi formula must preserve canonical definition"""
        # Psi is in genius_law spec, check it documents the canonical formula
        genius_path = REPO_ROOT / "archive" / "legacy_specs" / "genius_law_v38Omega.json"
        if genius_path.exists():
            with open(genius_path) as f:
                genius = json.load(f)
            if "psi" in genius.get("metrics", {}):
                psi = genius["metrics"]["psi"]
                assert "formula" in psi, "Psi missing formula"
        # Alternative: check constitutional_floors has vitality reference
        spec_path = REPO_ROOT / "spec" / "constitutional_floors_v38Omega.json"
>       with open(spec_path) as f:
             ^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'C:\\Users\\User\\OneDrive\\Documents\\GitHub\\arifOS\\spec\\constitutional_floors_v38Omega.json'

tests\test_v39_ci_guardrails.py:95: FileNotFoundError
____________ TestSpecVersionAlignment.test_spec_version_is_v38_3_0 ____________

self = <tests.test_v39_ci_guardrails.TestSpecVersionAlignment object at 0x0000020A43739A90>

    def test_spec_version_is_v38_3_0(self):
        spec_path = REPO_ROOT / "spec" / "constitutional_floors_v38Omega.json"
>       with open(spec_path) as f:
             ^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'C:\\Users\\User\\OneDrive\\Documents\\GitHub\\arifOS\\spec\\constitutional_floors_v38Omega.json'

tests\test_v39_ci_guardrails.py:126: FileNotFoundError
________ TestFloorCoverageCompleteness.test_all_floors_have_thresholds ________

self = <tests.test_v39_ci_guardrails.TestFloorCoverageCompleteness object at 0x0000020A43739D10>

    def test_all_floors_have_thresholds(self):
        spec_path = REPO_ROOT / "spec" / "constitutional_floors_v38Omega.json"
>       with open(spec_path) as f:
             ^^^^^^^^^^^^^^^
E       FileNotFoundError: [Errno 2] No such file or directory: 'C:\\Users\\User\\OneDrive\\Documents\\GitHub\\arifOS\\spec\\constitutional_floors_v38Omega.json'

tests\test_v39_ci_guardrails.py:154: FileNotFoundError
=========================== short test summary info ===========================
FAILED tests/test_v39_ci_guardrails.py::TestConstitutionalInvariants::test_floor_ids_semantic
FAILED tests/test_v39_ci_guardrails.py::TestConstitutionalInvariants::test_precedence_explicit
FAILED tests/test_v39_ci_guardrails.py::TestConstitutionalInvariants::test_rasa_r1_enforced
FAILED tests/test_v39_ci_guardrails.py::TestConstitutionalInvariants::test_psi_canonical_preserved
FAILED tests/test_v39_ci_guardrails.py::TestSpecVersionAlignment::test_spec_version_is_v38_3_0
FAILED tests/test_v39_ci_guardrails.py::TestFloorCoverageCompleteness::test_all_floors_have_thresholds
======================== 6 failed, 74 passed in 9.81s =========================
