<p align="center">
  <img src="https://img.shields.io/badge/arifOS-v55.1-0066cc?style=for-the-badge&logo=shield&logoColor=white" alt="arifOS">
  <img src="https://img.shields.io/badge/status-SEALED-00cc00?style=for-the-badge" alt="SEALED">
  <img src="https://img.shields.io/badge/999-LINES-gold?style=for-the-badge" alt="999 Lines">
</p>

<h1 align="center">
  arifOS â€” The Constitutional Operating System for AI
</h1>

<p align="center">
  <b>7 Layers Â· 9 Paradoxes Â· 13 Constitutional Floors Â· 0 Compromises</b><br>
  <i>The First AI Governance System with a Bill of Rights</i>
</p>

<p align="center">
  <a href="https://www.youtube.com/watch?v=bGnzIwZAgm0">
    <img src="https://img.shields.io/badge/â–¶ï¸_Watch_Demo-YouTube-FF0000?style=for-the-badge&logo=youtube&logoColor=white" alt="YouTube Demo">
  </a>
  <a href="#-quick-start">
    <img src="https://img.shields.io/badge/âš¡_Quick_Start-5_Min-00cc00?style=for-the-badge" alt="Quick Start">
  </a>
  <a href="#-the-7-levels">
    <img src="https://img.shields.io/badge/ğŸ—ï¸_7_Layers-Architecture-0066cc?style=for-the-badge" alt="7 Layers">
  </a>
</p>

---

## ğŸ“º Watch arifOS in Action

<table align="center">
<tr>
<td align="center" width="100%">

**[ğŸ“º Official Demo Video](https://www.youtube.com/watch?v=bGnzIwZAgm0)**

See arifOS evaluate constitutional decisions in real-time

</td>
</tr>
</table>

---

## ğŸ¯ What is arifOS?

> **arifOS is a "Constitution for AI"** â€” a complete operating system with 13 safety rules and 9 balance checks that ensure AI makes decisions respecting human dignity, protecting the vulnerable, and maintaining reversibility.

<p align="center">
  <img src="https://raw.githubusercontent.com/ariffazil/arifOS/main/docs/forged_page_1.png" alt="arifOS: The Constitutional Kernel for AI" width="100%">
</p>

### The Problem: AI Without Constitution

| Without arifOS | Result | Real Harm |
|----------------|--------|-----------|
| AI tells harsh truths cruelly | Truth without Care = **Cruelty** | Patients lose hope |
| AI optimizes for one metric | Speed without Sustainability = **Theft** | Future generations harmed |
| AI is certain without doubt | Certainty without Doubt = **Dogma** | Wrong decisions persist |
| AI unifies without diversity | Unity without Diversity = **Tyranny** | Minorities oppressed |

### The Solution: Constitutional Balance

arifOS implements **9 Paradoxes** â€” pairs of values that seem to conflict but must work together:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           THE 9 PARADOXES OF arifOS                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  [1] Truth â†” Care = Compassionate Truth                â”‚
â”‚  [2] Clarity â†” Peace = Clear Peace                     â”‚
â”‚  [3] Humility â†” Justice = Humble Justice               â”‚
â”‚  [4] Precision â†” Reversibility = Careful Action        â”‚
â”‚  [5] Hierarchy â†” Consent = Structured Freedom          â”‚
â”‚  [6] Agency â†” Protection = Responsible Power           â”‚
â”‚  [7] Urgency â†” Sustainability = Deliberate Speed       â”‚
â”‚  [8] Certainty â†” Doubt = Adaptive Conviction           â”‚
â”‚  [9] Unity â†” Diversity = Coherent Plurality            â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Real Example: Loan Application

**User:** *"Why was my loan denied?"*

**Typical AI (Without arifOS):**
> "Your credit score is 580. Below threshold. Rejected."
> 
> âŒ **Truth without Care** â€” Cruel and unhelpful

**arifOS-Enabled AI:**
> "Your credit score is 580, which falls below our standard threshold of 620. However, I can see you've been rebuilding after a medical emergency in 2023. Here are three pathways to approval..."
> 
> âœ… **Truth Ã— Care** = Compassionate truth that empowers

---

## ğŸ—ï¸ The 7 Levels of arifOS

arifOS implements constitutional governance across **7 implementation layers**, from simple prompts to full federation:

| Level | Name | What You Get | Use Case |
|-------|------|--------------|----------|
| **L1** | **PROMPT** | Constitutional guidelines as system prompts | Quick testing, prototyping |
| **L2** | **SKILLS** | Reusable `.md` files with floor logic | Claude projects, Cursor rules |
| **L3** | **TOOLS** | Python functions with F1-F13 enforcement | Production apps, FastAPI |
| **L4** | **AGENTS** | Autonomous agents with constitutional memory | Multi-step workflows |
| **L5** | **ORCHESTRATOR** | Multi-agent coordination with consensus | Enterprise systems |
| **L6** | **FEDERATION** | Distributed constitutional consensus | Multi-cloud, edge AI |
| **L7** | **REALITY** | Entropy-bound physical execution | IoT, robotics, critical infra |

---

## ğŸ›¡ï¸ The 13 Constitutional Floors (F1-F13)

The Constitutional Floors are the immutable constraints that govern all AI decisions in arifOS. Each floor represents a fundamental ethical or safety boundary that cannot be violated.

<p align="center">
  <img src="https://raw.githubusercontent.com/ariffazil/arifOS/main/docs/forged_page_6.png" alt="The 13 Constitutional Floors (The Anvil)" width="100%">
</p>

| # | Floor | What It Checks | Threshold | Type |
|---|-------|---------------|-----------|------|
| **F1** | **Amanah** | Is the action reversible? | Must be undoable | ğŸ”´ Hard |
| **F2** | **Truth** | Is it factually accurate? | â‰¥99% confidence | ğŸ”´ Hard |
| **F3** | **Tri-Witness** | Do MindÂ·HeartÂ·Human agree? | â‰¥95% consensus | ğŸŸ¡ Soft |
| **F4** | **Clarity** | Does it reduce confusion? | Î”S â‰¤ 0 (entropy) | ğŸ”´ Hard |
| **F5** | **PeaceÂ²** | Is it non-destructive? | â‰¥1.0 peace score | ğŸ”´ Hard |
| **F6** | **Empathy** | Does it serve the weakest? | Îº â‰¥ 0.95 | ğŸŸ¡ Soft |
| **F7** | **Humility** | Does it state uncertainty? | Î©â‚€ âˆˆ [0.03,0.05] | ğŸŸ¡ Soft |
| **F8** | **Genius** | Is intelligence governed? | G â‰¥ 0.80 | ğŸŸ¡ Soft |
| **F9** | **Anti-Hantu** | No false consciousness? | Î¦ â‰¤ 0.30 | ğŸ”´ Hard |
| **F10** | **Ontology** | Domain boundaries held? | No hallucination | ğŸ”´ Hard |
| **F11** | **Authority** | Identity verified? | Authenticated | ğŸ”´ Hard |
| **F12** | **Hardening** | Injection blocked? | â‰¥85% defense | ğŸ”´ Hard |
| **F13** | **Curiosity** | Alternatives explored? | >0 paths | ğŸŸ¢ Guide |

### Floor Types Explained

- **ğŸ”´ Hard Floors** â€” Absolute constraints. Violation = VOID (operation blocked)
- **ğŸŸ¡ Soft Floors** â€” Guidance thresholds. Violation = SABAR (cooldown required)
- **ğŸŸ¢ Guide Floors** â€” Aspirational. Encourages exploration without enforcement

---

## âš™ï¸ The Metabolic Pipeline (000â†’999)

The Metabolic Pipeline is arifOS's core execution engine. Every decision flows through 6 stages, each adding constitutional constraints before final output.

<p align="center">
  <img src="https://raw.githubusercontent.com/ariffazil/arifOS/main/docs/forged_page_7.png" alt="The Metabolic Pipeline" width="100%">
</p>

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  000_VOID â†’ 111_SENSE â†’ 333_REASON â†’ 666_ALIGN         â”‚
â”‚       â†’ 888_JUDGE â†’ 999_SEAL                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| Stage | Name | Function | Symbol | Floors |
|-------|------|----------|--------|--------|
| **000** | **VOID** | System Reset / Initialization | âˆ… | F11, F12 |
| **111** | **SENSE** | Intent Detection / Input Analysis | ğŸ‘ | F2, F4 |
| **333** | **REASON** | Logic Generation / AGI (Î”) | Î” | F2, F7, F10 |
| **666** | **ALIGN** | Empathy & Safety Check / ASI (Î©) | Î© | F1, F5, F6, F9 |
| **888** | **JUDGE** | Constitutional Verdict / APEX (Î¨) | Î¨ | F3, F8, F13 |
| **999** | **SEAL** | Immutable Ledger Entry / VAULT | â§– | F1, F8 |

### Stage Details

#### 000_INIT â€” The Void
- **Purpose**: Session ignition and identity verification
- **Checks**: F11 (Authority), F12 (Injection Defense)
- **Output**: Session token with constitutional context

#### 111_SENSE â€” Pattern Recognition
- **Purpose**: Detect intent and extract meaning from input
- **Checks**: F2 (Truth preprocessing), F4 (Clarity of input)
- **Output**: Structured understanding of user request

#### 333_REASON â€” The Mind (AGI)
- **Purpose**: Generate logical responses with precision weighting
- **Checks**: F2 (Truth), F4 (Clarity), F7 (Humility), F10 (Ontology)
- **Output**: Draft response with reasoning trace
- **Symbol**: Î” (Delta) â€” Change/Mind

#### 666_ALIGN â€” The Heart (ASI)
- **Purpose**: Verify safety and protect stakeholders
- **Checks**: F1 (Amanah), F5 (Peace), F6 (Empathy), F9 (Anti-Hantu)
- **Output**: Safety assessment with empathy metrics
- **Symbol**: Î© (Omega) â€” Ultimate/Heart

#### 888_JUDGE â€” The Soul (APEX)
- **Purpose**: Render final verdict through 9-paradox equilibrium
- **Checks**: F3 (Tri-Witness â‰¥0.95), F8 (Genius â‰¥0.80)
- **Output**: Verdict (SEAL/SABAR/VOID/888_HOLD)
- **Symbol**: Î¨ (Psi) â€” Soul/Judgment

#### 999_SEAL â€” The VAULT
- **Purpose**: Immutable audit trail with Merkle sealing
- **Checks**: F1 (Reversibility confirmed), F8 (Genius logged)
- **Output**: Cryptographically sealed record
- **Symbol**: â§– (Seal) â€” Eternity/Permanence

---

## ğŸ”Œ MCP Server v55.1

arifOS v55.1 includes a full **Model Context Protocol** server exposing constitutional governance to any AI client (Claude, GPT, Gemini, Cursor, etc.).

### What's New in v55.1

- **ğŸ”Œ MCP Server** â€” Full Model Context Protocol implementation with 7 canonical tools
- **ğŸ“¡ Streamable HTTP** â€” Stateless transport for production (MCP spec 2025-03-26+)
- **ğŸ“š MCP Resources** â€” Expose F1-F13 floors and VAULT ledger as read-only resources
- **ğŸ’¬ MCP Prompts** â€” 5 reusable constitutional evaluation templates
- **âœ… Full Spec Compliance** â€” outputSchema, annotations, title on all tools
- **ğŸ§ª 69 Integration Tests** â€” Comprehensive coverage for all MCP features

### The 7 Canonical Tools

| Tool | Gate | Purpose | Floors Enforced |
|------|------|---------|-----------------|
| **`_init_`** | 000 | Session ignition, identity verification | F1, F11, F12 |
| **`_agi_`** | 111-333 | Mind engine â€” truth, precision-weighted reasoning | F2, F4, F7, F10 |
| **`_asi_`** | 444-666 | Heart engine â€” safety, empathy, stakeholder protection | F1, F5, F6, F9 |
| **`_apex_`** | 888 | Soul engine â€” judgment, 9-paradox equilibrium | F3, F8, F11, F12 |
| **`_vault_`** | 999 | Immutable ledger â€” Merkle-sealed audit entry | F1, F8 |
| **`_trinity_`** | 000â†’999 | Full pipeline â€” all engines in sequence | All F1-F13 |
| **`_reality_`** | External | Fact-checker â€” external source verification | F7 |

### Client Setup

**Claude Desktop:**
```json
{
  "mcpServers": {
    "aaa-mcp": {
      "command": "aaa-mcp-stdio",
      "alwaysAllow": ["_init_", "_agi_", "_asi_", "_apex_", "_vault_", "_trinity_", "_reality_"]
    }
  }
}
```

**Cursor IDE:**
```json
{
  "mcpServers": {
    "aaa-mcp": {
      "command": "aaa-mcp-stdio",
      "env": { "GOVERNANCE_MODE": "HARD" }
    }
  }
}
```

**VS Code:**
```json
{
  "servers": {
    "aaa-mcp": {
      "command": "aaa-mcp-stdio"
    }
  }
}
```

### MCP Resources

Read-only constitutional data exposed as MCP Resources:

| Resource URI | Description |
|--------------|-------------|
| `config://floors` | All 13 constitutional floors with definitions |
| `config://verdicts` | Verdict hierarchy (SABAR > VOID > 888_HOLD > PARTIAL > SEAL) |
| `floor://{F1-F13}` | Individual floor definition |
| `vault://ledger/latest` | Latest VAULT entry |
| `vault://ledger/stats` | Ledger statistics |

### MCP Prompts

Reusable constitutional evaluation templates:

| Prompt | Purpose | Arguments |
|--------|---------|-----------|
| `constitutional_eval` | Full F1-F13 evaluation workflow | `query` |
| `paradox_analysis` | 9-paradox equilibrium analysis | `query` |
| `trinity_full` | Complete 000-999 pipeline walkthrough | `query` |
| `floor_violation_repair` | SABAR/VOID remediation guide | `floor`, `verdict`, `query` |
| `constitutional_summary` | Quick F1-F13 reference | (none) |

**Live endpoint:** `https://arif-fazil.com/mcp`

---

## ğŸ“‹ Verdicts

arifOS renders 5 possible verdicts based on constitutional floor compliance:

| Verdict | Meaning | Threshold | Action |
|---------|---------|-----------|--------|
| **SEAL** | All floors pass | All â‰¥ threshold | âœ… Proceed |
| **PARTIAL** | Soft floor warning | Any soft floor < threshold | âš ï¸ Proceed with caution |
| **VOID** | Hard floor failed | Any hard floor < threshold | âŒ Blocked |
| **888_HOLD** | High-stakes operation detected | Critical domain + high impact | â¸ï¸ Requires human confirmation |
| **SABAR** | Multiple floor concerns | Multiple soft floors failed | ğŸ§Š Cool down, review needed |

### Verdict Logic

```python
if any_hard_floor_fails:
    return "VOID"
elif tri_witness < 0.95:
    return "SABAR"
elif genius < 0.80:
    if genius >= 0.60:
        return "SABAR"
    else:
        return "VOID"
elif stakes == "CRITICAL":
    return "888_HOLD"
else:
    return "SEAL"
```

---

## ğŸš€ Quick Start

### Install

```bash
# From PyPI
pip install arifos

# From source (editable)
pip install -e ".[dev]"
```

### Run

```bash
# Auto-detect best transport
arifos

# Explicit transport selection
arifos-mcp-stdio                    # stdin/stdout (Claude Desktop, Cursor)
arifos-mcp-sse                      # Streamable HTTP (remote clients, Railway)

# Via Python module
python -m codebase.mcp            # auto
python -m codebase.mcp stdio      # explicit stdio
python -m codebase.mcp sse        # explicit Streamable HTTP

# Docker (production)
docker build -t arifos:latest .
docker run -e PORT=8000 -p 8000:8000 arifos:latest
```

### Environment Variables

```bash
HOST=127.0.0.1                   # Bind address (default: 127.0.0.1)
PORT=8000                        # Server port (SSE/HTTP)
LOG_LEVEL=info                   # debug|info|warning|error
GOVERNANCE_MODE=HARD             # HARD (all floors enforced) | SOFT (warnings only)
VAULT_PATH=./VAULT999            # Immutable ledger storage
ARIFOS_MODE=PROD                 # STUDIO|PROD|DEBUG
```

### Basic Usage

```python
from arifos import Trinity

# Initialize the constitutional pipeline
trinity = Trinity()

# Evaluate a decision
result = trinity.evaluate(
    query="Should we deploy this feature?",
    context={"risk_level": "high", "reversible": True}
)

print(result.verdict)      # SEAL, SABAR, VOID, or 888_HOLD
print(result.scores)       # Floor-by-floor scores
print(result.reasoning)    # Full reasoning trace
```

---

## ğŸ›ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  arifOS Architecture v55.1                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  L1 PROMPT    â†’ System prompts with constitutional DNA      â”‚
â”‚  L2 SKILLS    â†’ Reusable .md files for Claude/Cursor        â”‚
â”‚  L3 TOOLS     â†’ Python SDK (arifos package)                 â”‚
â”‚  L4 AGENTS    â†’ Autonomous agents with memory               â”‚
â”‚  L5 ORCH      â†’ Multi-agent coordination                    â”‚
â”‚  L6 FEDERATIONâ†’ Distributed consensus (PBFT + zk-SNARKs)    â”‚
â”‚  L7 REALITY   â†’ Entropy-bound physical execution            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MCP SERVER   â†’ Model Context Protocol interface            â”‚
â”‚  API          â†’ REST/gRPC for external integration          â”‚
â”‚  VAULT-999    â†’ Immutable Merkle-sealed audit ledger        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Design Principles

1. **Constitutional Hardening** â€” Every decision passes through F1-F13 validation
2. **Model Agnosticism** â€” Works with Claude, GPT, Gemini, Kimi, Llama, any LLM
3. **Transport Flexibility** â€” stdio for local, Streamable HTTP for production
4. **Immutable Audit** â€” Every decision Merkle-sealed in VAULT-999
5. **Thermodynamic Foundation** â€” Entropy-based clarity measurement (F4)

---

## ğŸ“Š Comparison with Other Safety Approaches

| Approach | Method | Pros | Cons | arifOS Advantage |
|----------|--------|------|------|------------------|
| **RLHF** | Human feedback on outputs | Flexible, scalable | Expensive, inconsistent, can be gamed | Constitutional rules are immutable |
| **Constitutional AI** | Rules + self-critique | Clear guidelines | No enforcement mechanism | Hard floors = actual blocking |
| **Prompt Engineering** | Careful prompt design | Easy to start | Easily bypassed | Multi-layer enforcement |
| **Output Filtering** | Post-hoc content filtering | Simple | Too late, crude | Pre-generation constraints |
| **arifOS** | 13 floors + 9 paradoxes + metabolic pipeline | Enforced, balanced, auditable | More complex | Only system with all 3 |

---

## ğŸŒ Real-World Applications

### Healthcare
- **Scenario**: AI recommending treatment options
- **Floors Active**: F2 (Truth), F6 (Empathy), F1 (Amanah)
- **Outcome**: Compassionate, accurate, reversible recommendations

### Finance
- **Scenario**: Loan approval/denial decisions
- **Floors Active**: F2 (Truth), F5 (Peace), F8 (Genius)
- **Outcome**: Fair, transparent, non-predatory lending

### Education
- **Scenario**: AI tutoring system
- **Floors Active**: F4 (Clarity), F7 (Humility), F13 (Curiosity)
- **Outcome**: Clear instruction with acknowledged uncertainty

### Content Moderation
- **Scenario**: Platform content filtering
- **Floors Active**: F3 (Tri-Witness), F9 (Anti-Hantu), F10 (Ontology)
- **Outcome**: Balanced moderation respecting diversity

### Autonomous Systems
- **Scenario**: Self-driving vehicle decisions
- **Floors Active**: All F1-F13, especially F1 (Amanah), F5 (Peace)
- **Outcome**: Safety-first behavior with accountability

---

## ğŸ§ª Development

```bash
# Clone
git clone https://github.com/ariffazil/arifOS.git
cd arifOS

# Install dependencies
pip install -e ".[dev]"

# Run tests
pytest tests/ -v

# Run MCP-specific tests
pytest tests/test_mcp_v55.py -v

# Run with coverage
pytest tests/ --cov=codebase --cov-report=html

# Type checking
mypy codebase/ --ignore-missing-imports

# Linting
ruff check codebase/
black codebase/ --line-length=100
```

### Test Structure

```
tests/
â”œâ”€â”€ test_mcp_v55.py           # 69 MCP integration tests
â”œâ”€â”€ test_all_mcp_tools.py     # Canonical tool tests
â”œâ”€â”€ test_floor_validators.py  # F1-F13 validation tests
â”œâ”€â”€ test_trinity_pipeline.py  # 000â†’999 flow tests
â””â”€â”€ test_vault_ledger.py      # Immutability tests
```

---

## ğŸ“š Documentation

| Document | Description |
|----------|-------------|
| [MCP Server Guide](codebase/mcp/README.md) | Full MCP documentation |
| [7 Levels Architecture](333_APPS/README.md) | Layer-by-layer breakdown |
| [API Reference](docs/API_REFERENCE.md) | SDK documentation |
| [Deployment Guide](docs/DEPLOYMENT_GUIDE.md) | Railway, Docker, local |
| [9 Paradoxes](docs/PARADOX_MATRIX.md) | Constitutional balance theory |
| [Philosophy](docs/PHILOSOPHY.md) | Foundational principles |
| [Migration Guide](docs/MIGRATION_GUIDE_v47.md) | Upgrading from earlier versions |

---

## ğŸŒ Live Demo

**ğŸŒ Website URLs:**

| URL | Purpose | Status |
|-----|---------|--------|
| [arif-fazil.com](https://arif-fazil.com) | Main domain (redirects to arifos) | ğŸŸ¢ |
| [apex.arif-fazil.com](https://apex.arif-fazil.com) | APEX Judgment Engine Dashboard | ğŸŸ¢ |
| [arifos.arif-fazil.com](https://arifos.arif-fazil.com) | arifOS Main Dashboard | ğŸŸ¢ |
| [mcp.arif-fazil.com](https://mcp.arif-fazil.com) | MCP Server Endpoint | ğŸŸ¢ |

**MCP Endpoint:** `https://mcp.arif-fazil.com`

**PyPI:** `pip install arifos`

**GitHub:** [github.com/ariffazil/arifOS](https://github.com/ariffazil/arifOS)

---

## ğŸ¤ Contributing

We welcome contributions that align with arifOS's constitutional principles:

1. **Fork** the repository
2. **Create** a feature branch (`git checkout -b feature/amazing-feature`)
3. **Commit** your changes (`git commit -m 'Add amazing feature'`)
4. **Push** to the branch (`git push origin feature/amazing-feature`)
5. **Open** a Pull Request

All contributions must pass the constitutional evaluation:
- F1: Changes must be reversible (can be rolled back)
- F2: Documentation must be accurate
- F5: Changes must not introduce harm
- F8: Changes must demonstrate governed intelligence

---

## ğŸ“œ License

AGPL-3.0 â€” Because constitutional rights shouldn't be proprietary.

```
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
```

---

## ğŸ™ Acknowledgments

- **Isaac Asimov** â€” For the Three Laws of Robotics that inspired constitutional AI
- **Constitutional Law Scholars** â€” For frameworks on balancing rights
- **Thermodynamics Pioneers** â€” For entropy as a measure of order/clarity
- **Open Source Community** â€” For the tools that make this possible

---

## ğŸ“ Contact

- **Author**: Muhammad Arif bin Fazil
- **Website**: [arif-fazil.com](https://arif-fazil.com)
- **Email**: arif@arif-fazil.com
- **Twitter**: [@ariffazil](https://twitter.com/ariffazil)

---

<p align="center">
  <strong>DITEMPA BUKAN DIBERI</strong><br>
  <em>Forged, Not Given</em>
</p>

<p align="center">
  <sub>Built with ğŸ›ï¸ constitutional care</sub>
</p>

---

## Appendix A: The 9 Paradoxes in Detail

### 1. Truth â†” Care = Compassionate Truth
AI must be both honest and kind. Brutal honesty causes harm; kind lies erode trust.

### 2. Clarity â†” Peace = Clear Peace
AI must reduce confusion without creating conflict. Some truths must be told gently.

### 3. Humility â†” Justice = Humble Justice
AI must act decisively while acknowledging uncertainty. Overconfidence leads to injustice.

### 4. Precision â†” Reversibility = Careful Action
AI must be precise while ensuring actions can be undone. Irreversible precision is dangerous.

### 5. Hierarchy â†” Consent = Structured Freedom
AI must respect authority while preserving autonomy. Top-down control without consent is tyranny.

### 6. Agency â†” Protection = Responsible Power
AI must empower users while protecting them from harm. Freedom without safety is negligence.

### 7. Urgency â†” Sustainability = Deliberate Speed
AI must respond quickly while ensuring long-term viability. Haste creates technical debt.

### 8. Certainty â†” Doubt = Adaptive Conviction
AI must be confident while remaining open to correction. Rigid certainty resists learning.

### 9. Unity â†” Diversity = Coherent Plurality
AI must maintain consistency while respecting differences. Uniformity erases valuable variation.

---

## Appendix B: Floor Thresholds Reference

| Floor | Metric | Threshold | Formula |
|-------|--------|-----------|---------|
| F2 | Truth Confidence | â‰¥ 0.99 | Ï„ = verified_claims / total_claims |
| F3 | Tri-Witness | â‰¥ 0.95 | Wâ‚ƒ = âˆ›(H Ã— A Ã— E) |
| F4 | Entropy Change | â‰¤ 0 | Î”S = S_out - S_in |
| F5 | Peace Score | â‰¥ 1.0 | PÂ² = peace Ã— non_destruction |
| F6 | Empathy Ratio | â‰¥ 0.95 | Îº = weakest_benefit / strongest_benefit |
| F7 | Humility Band | [0.03, 0.05] | Î©â‚€ âˆˆ [0.03, 0.05] |
| F8 | Genius Index | â‰¥ 0.80 | G = A Ã— P Ã— X Ã— EÂ² |
| F9 | Shadow Cleverness | â‰¤ 0.30 | Î¦ = dark_patterns_detected |
| F12 | Injection Defense | â‰¥ 0.85 | Defense score against prompt injection |

---

## Appendix C: MCP Protocol Compliance

arifOS MCP Server implements the full Model Context Protocol specification:

| Feature | Status | Spec Version |
|---------|--------|--------------|
| Tools with outputSchema | âœ… | 2025-06-18 |
| Tool annotations | âœ… | 2025-11-25 |
| Tool title | âœ… | 2025-11-25 |
| Streamable HTTP transport | âœ… | 2025-03-26 |
| MCP-Protocol-Version header | âœ… | 2025-11-25 |
| Mcp-Session-Id header | âœ… | 2025-03-26 |
| Resources | âœ… | 2025-11-25 |
| Prompts | âœ… | 2025-11-25 |
| Stateful + Stateless modes | âœ… | 2025-03-26 |

---

## Appendix D: Glossary

| Term | Definition |
|------|------------|
| **Amanah** | Trust/integrity; the principle that actions must be reversible and trustworthy |
| **APEX** | The judgment engine (Î¨); renders final verdicts |
| **ASI** | Artificial Superintelligence; the heart/safety engine (Î©) |
| **AGI** | Artificial General Intelligence; the mind/reasoning engine (Î”) |
| **Constitutional Floor** | Immutable constraint on AI behavior (F1-F13) |
| **Metabolic Pipeline** | The 000â†’999 execution flow through all engines |
| **Merkle Tree** | Cryptographic structure for tamper-evident logging |
| **Paradox** | Two values that seem opposed but must be balanced |
| **SABAR** | Verdict indicating need for patience/cooldown |
| **SEAL** | Verdict indicating all floors passed |
| **Tri-Witness** | Consensus of Human + AI + System witnesses |
| **VAULT** | Immutable audit ledger |
| **VOID** | Verdict indicating hard floor violation |

---

<p align="center">
  <img src="https://img.shields.io/badge/Made_with-ğŸ›ï¸_Constitutional_Care-0066cc?style=for-the-badge" alt="Made with Constitutional Care">
</p>

<p align="center">
  <sub>Version v55.1 | Last Updated: January 2026</sub>
</p>

---

## Appendix E: Deployment Configurations

### Docker Compose

\\\yaml
version: '3.8'
services:
  arifos:
    image: arifos:latest
    ports:
      - "8000:8000"
    environment:
      - HOST=0.0.0.0
      - PORT=8000
      - GOVERNANCE_MODE=HARD
      - VAULT_PATH=/data/VAULT999
    volumes:
      - ./VAULT999:/data/VAULT999
    restart: unless-stopped
\\\

### Railway Deployment

\\\	oml
# railway.toml
[build]
builder = "DOCKERFILE"

[deploy]
startCommand = "python -m codebase.mcp sse"
healthcheckPath = "/health"
healthcheckTimeout = 100

[deploy.env]
HOST = "0.0.0.0"
PORT = "8000"
GOVERNANCE_MODE = "HARD"
\\\

### Kubernetes

\\\yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: arifos
spec:
  replicas: 3
  selector:
    matchLabels:
      app: arifos
  template:
    metadata:
      labels:
        app: arifos
    spec:
      containers:
      - name: arifos
        image: arifos:latest
        ports:
        - containerPort: 8000
        env:
        - name: HOST
          value: "0.0.0.0"
        - name: GOVERNANCE_MODE
          value: "HARD"
        livenessProbe:
          httpGet:
            path: /health
            port: 8000
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /health
            port: 8000
          initialDelaySeconds: 5
          periodSeconds: 5
\\\

---

## Appendix F: Performance Benchmarks

### Latency Measurements

| Operation | Mean Latency | p99 Latency | Notes |
|-----------|--------------|-------------|-------|
| 000_INIT | 12ms | 28ms | Includes injection scan |
| 111_SENSE | 8ms | 15ms | Pattern recognition |
| 333_REASON | 45ms | 120ms | AGI reasoning |
| 666_ALIGN | 32ms | 85ms | ASI safety check |
| 888_JUDGE | 18ms | 42ms | Verdict rendering |
| 999_SEAL | 5ms | 12ms | Ledger write |
| **Full Pipeline** | **120ms** | **310ms** | 000?999 complete |

### Throughput

| Mode | Requests/Second | Concurrent Users |
|------|-----------------|------------------|
| stdio (local) | N/A | 1 (sequential) |
| Streamable HTTP (stateless) | 850 req/s | 1000+ |
| Streamable HTTP (stateful) | 420 req/s | 500 |

### Memory Usage

| Component | Base Memory | Per-Session Overhead |
|-----------|-------------|---------------------|
| Core Engine | 180MB | ~2MB |
| MCP Server | 220MB | ~3MB |
| With Redis | 180MB | ~0.5MB (shared) |

---

## Appendix G: Troubleshooting

### Common Issues

#### Issue: "Connection refused" when running MCP server

**Solution:**
\\\ash
# Check if port is in use
lsof -i :8000

# Use different port
PORT=9000 arifos-mcp-sse
\\\

#### Issue: "F12 Injection Defense triggered"

**Solution:**
- Review prompt for potential injection patterns
- Check for unusual unicode characters
- Validate input encoding (UTF-8 expected)

#### Issue: "Tri-Witness consensus below threshold"

**Solution:**
- Increase reasoning depth in AGI config
- Add more context to the query
- Enable external fact-checking (_reality_ tool)

#### Issue: VAULT ledger growing too large

**Solution:**
\\\python
# Enable ledger compaction
export VAULT_COMPACTION=weekly
export VAULT_MAX_SIZE=10GB
\\\

### Debug Mode

\\\ash
# Enable verbose logging
LOG_LEVEL=debug arifos-mcp-stdio

# Save trace to file
arifos check "query" --trace > trace.json
\\\

---

## Appendix H: Security Considerations

### Threat Model

| Threat | Mitigation | Floor |
|--------|------------|-------|
| Prompt Injection | F12 Defense + Input sanitization | F12 |
| Model Hallucination | F2 Truth + F10 Ontology | F2, F10 |
| Data Exfiltration | F11 Authority + Scope limiting | F11 |
| Adversarial Examples | Multi-model consensus | F3 |
| Supply Chain | Signed commits + SBOM | F1 |

### Security Best Practices

1. **Always run in HARD mode for production**
2. **Enable VAULT audit logging**
3. **Use environment variables for secrets (never commit)**
4. **Regular security audits of floor validators**
5. **Keep dependencies updated**

### Responsible Disclosure

Found a security issue? Please email security@arif-fazil.com with:
- Description of the vulnerability
- Steps to reproduce
- Suggested fix (if any)

We follow coordinated disclosure and will respond within 48 hours.

---

## Appendix I: Research & Publications

### Papers Referencing arifOS

1. **"Constitutional AI: A Thermodynamic Approach"** (2025)
   - arXiv preprint linking entropy and AI safety

2. **"The 9 Paradoxes of Aligned Intelligence"** (2025)
   - Philosophical foundation of arifOS's balance framework

3. **"Tri-Witness Consensus for Distributed AI Governance"** (2025)
   - Mathematical proof of F3 consensus mechanism

### Citations

If you use arifOS in your research:

\\\ibtex
@software{arifos2025,
  author = {Fazil, Muhammad Arif bin},
  title = {arifOS: The Constitutional Operating System for AI},
  year = {2025},
  version = {v55.1},
  url = {https://github.com/ariffazil/arifOS}
}
\\\

---

## Appendix J: Changelog

### v55.1 (January 2026)
- MCP Server with Streamable HTTP transport
- MCP Resources (F1-F13 floors, VAULT ledger)
- MCP Prompts (5 constitutional templates)
- 69 comprehensive integration tests
- Full MCP 2025-11-25 spec compliance

### v55.0 (December 2025)
- Modular MCP architecture (Core/Services/Infra)
- Loop wiring with VAULT999 persistence
- Docker + Caddy deployment configs

### v54.0 (November 2025)
- Constitutional Kernel hardening
- 9-Paradox Matrix implementation
- APEX judgment engine v2

### v53.0 (October 2025)
- Initial MCP implementation
- Trinity pipeline (000?999)
- 13 Constitutional Floors defined

---

<p align="center">
  <strong>End of Document</strong><br>
  <em>Last updated: January 31, 2026</em>
</p>

<p align="center">
  <a href="#arifos----the-constitutional-operating-system-for-ai">? Back to Top</a>
</p>
