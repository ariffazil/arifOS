# .arifos_clip — Session Artifacts & Working Memory

**Version:** v45.0 (Phoenix-72 Consolidation)
**Purpose:** Temporary session artifacts, working notes, and audit trails
**Authority:** DERIVATIVE (not constitutional law)
**Retention:** Session-scoped (clear after major milestones)

---

## What Lives Here

**This directory contains ephemeral working files:**

| Directory/File | Purpose | Retention |
|----------------|---------|-----------|
| `*.md` (root) | Session reports, audits, assessments | Until archived |
| `session.json` | Current session state (000→999 pipeline) | Session-scoped |
| `forge/` | Git forge artifacts, branch analysis | Until sealed |
| `holds/` | 888_HOLD escalations awaiting review | Until resolved |
| `archive/` | Completed session artifacts | Permanent (dated) |

**Key Principle:** This is NOT canon. Files here are working notes, not authoritative sources.

---

## Current Session Artifacts (v45.0)

### Active Files

**Self-Assessments:**
- `claude_code_self_assessment.md` — F1-CODE through F9-CODE compliance test
- `readme_feature_audit_v45.md` — README.md feature modernization audit

**Session Management:**
- `session.json` — Current pipeline state
- `session_seal_checklist.md` — Pre-commit QC checklist

**Git Governance:**
- `forge/forge.json` — Branch analysis, hot zone detection

### Archive Policy

**When to archive:**
- Major version milestones (v44 → v45)
- Feature completion (L2_GOVERNANCE v45.0)
- Session close (after git seal)

**How to archive:**
```bash
# Move completed session to archive
mv .arifos_clip/session.json .arifos_clip/archive/session_$(date +%Y%m%d_%H%M%S).json

# Or use date-stamped subdirectory
mkdir -p .arifos_clip/archive/2025-12-30_L2_Governance_v45
mv .arifos_clip/*.md .arifos_clip/archive/2025-12-30_L2_Governance_v45/
```

---

## File Descriptions

### session.json

**Purpose:** Tracks current 000→999 pipeline execution

**Format:**
```json
{
  "id": "YYYYMMDDHHMMSS",
  "task": "Task description",
  "status": "VOID|SEAL|PARTIAL|SABAR|HOLD",
  "steps": [
    {
      "stage": 0,
      "name": "void",
      "input": "...",
      "output": null,
      "exit_code": 40,
      "timestamp": "ISO8601"
    }
  ],
  "v45_config": {
    "track_a": "L1_THEORY/canon/",
    "track_b": "spec/v45/",
    "trinity_display_mode": "ASI",
    "floors_active": ["F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8", "F9"]
  }
}
```

**Lifecycle:**
- Created: Session start (000 VOID)
- Updated: Each stage transition (111, 222, 333, ..., 999)
- Archived: Session close (after SEAL)

### session_seal_checklist.md

**Purpose:** Pre-commit constitutional QC checklist

**Stages:**
- 666 ALIGN: Floor checks
- 777 FORGE: Stage changes
- 888 HOLD: Governance audit
- 999 SEAL: Commit & close

**Usage:**
```bash
# Before committing
cat .arifos_clip/session_seal_checklist.md

# Run checks
pytest -v
arifos-verify-ledger
git diff --staged --stat

# Seal
git commit -m "feat(scope): description"
```

### forge/forge.json

**Purpose:** Git governance analysis

**Contains:**
- Branch analysis (commits, authors, entropy)
- Hot zone detection (files with high change frequency)
- Constitutional check results (F1-F9 compliance)

**Generated by:** `python scripts/trinity.py forge <branch>`

**Usage:**
```bash
# Analyze current branch
python scripts/trinity.py forge main

# View results
cat .arifos_clip/forge/forge.json
```

---

## Relationship to Authoritative Sources

```
PRIMARY (Authoritative):
├── L1_THEORY/canon/ (Track A - Philosophy)
├── spec/v45/ (Track B - Thresholds, SHA-256 verified)
└── arifos_core/ (Track C - Runtime enforcement)

DERIVATIVE (Working Notes):
└── .arifos_clip/ (Session artifacts, NOT authoritative)
```

**Data Flow:**
```
Canon/Spec (PRIMARY)
    ↓ informs
Session work (.arifos_clip/)
    ↓ produces
Git commits (sealed artifacts)
    ↓ update
Cooling Ledger (audit trail)
```

**Rule:** Never cite .arifos_clip files as authoritative sources. Always verify against PRIMARY sources (canon, spec, code).

---

## Session Workflow (v45.0)

### 1. Session Start

```bash
# Initialize session
mkdir -p .arifos_clip/{forge,holds,archive}
echo '{"id":"'$(date +%Y%m%d%H%M%S)'","task":"...","status":"VOID","steps":[]}' > .arifos_clip/session.json
```

### 2. During Session

**Working files:**
- Self-assessments, audits, reports → `.arifos_clip/*.md`
- Pipeline state → `.arifos_clip/session.json` (updated each stage)
- Git analysis → `.arifos_clip/forge/forge.json`
- 888_HOLD escalations → `.arifos_clip/holds/YYYYMMDD_description.md`

### 3. Session Close

**Pre-seal checklist:**
```bash
# 1. Review checklist
cat .arifos_clip/session_seal_checklist.md

# 2. Run constitutional checks
pytest -v
arifos-verify-ledger

# 3. Stage changes
git add <files>

# 4. Commit with verdict
git commit -m "feat(scope): description

Tests: X/X passing
Floors: F1=... F2=... ...
Verdict: SEAL"

# 5. Archive session
DATE=$(date +%Y%m%d_%H%M%S)
mkdir -p .arifos_clip/archive/$DATE
mv .arifos_clip/*.md .arifos_clip/archive/$DATE/
mv .arifos_clip/session.json .arifos_clip/archive/$DATE/
```

### 4. Archive Retention

**Policy:**
- Active sessions: Keep in root `.arifos_clip/`
- Completed sessions: Move to `.arifos_clip/archive/YYYYMMDD_HH
MMSS/`
- Archive cleanup: Review quarterly, keep major milestones

---

## F1 Amanah Compliance

**Reversibility:** All .arifos_clip files are session-scoped and archivable.

**No loss of data:**
- Before deleting: Archive to `.arifos_clip/archive/`
- Before major changes: Snapshot current state
- Git-tracked artifacts: Already preserved in commit history

**Mandate:** .arifos_clip is for working notes, not authoritative law. Never modify canon/spec based solely on .arifos_clip files.

---

## Common Use Cases

### 1. Self-Assessment (F1-CODE through F9-CODE)

**File:** `claude_code_self_assessment.md`

**Purpose:** Verify Claude Code follows code generation overlay

**Example:**
```markdown
# Claude Code Self-Assessment

**Verdict:** SEAL (All F1-CODE through F9-CODE floors PASS)

## Evidence:
- F1-CODE: Edit tool uses explicit replacements (reversible)
- F2-CODE: Todo list honest (no fabricated steps)
- F4-CODE: Descriptive file names, no magic numbers
...
```

### 2. Feature Audit

**File:** `readme_feature_audit_v45.md`

**Purpose:** Compare README vs actual implementation, identify gaps

**Sections:**
- NEW features to add (Trinity Display, Modular L2, etc.)
- Outdated sections to update (test counts, L2 structure)
- Deprecated features to remove

### 3. 888_HOLD Escalations

**Directory:** `.arifos_clip/holds/`

**Purpose:** High-stakes decisions awaiting human review

**Example:**
```markdown
# HOLD-20251230-Constitutional-Change

**Trigger:** H-SOURCE-CONFLICT
**Issue:** F2 threshold conflict (spec says 0.99, code uses 0.95)
**Evidence:**
- PRIMARY: spec/v45/constitutional_floors.json → 0.99
- SECONDARY: arifos_core/enforcement/metrics.py → 0.95

**Action Required:** Resolve conflict before proceeding
**Status:** HOLD (awaiting human decision)
```

---

## v45.0 Updates

**New in v45.0:**

1. **Trinity Display Awareness:**
   - Session files include `trinity_display_mode` field
   - Default: ASI mode (clean outputs, no metrics)

2. **Track B Integration:**
   - Session config references spec/v45/ (not legacy specs)
   - SHA-256 manifest awareness

3. **Phoenix-72 Compliance:**
   - 888_HOLD escalations reference Phoenix-72 cooling
   - Session artifacts note amendment proposals

4. **L2_GOVERNANCE Sync:**
   - Working files reference modular overlays (base + logic + display)
   - Platform-specific notes for ChatGPT/Claude/Cursor/etc.

---

## Anti-Patterns (What NOT to Do)

❌ **DON'T cite .arifos_clip as authoritative:**
```python
# WRONG
claim = "F2 Truth threshold is 0.99"
source = ".arifos_clip/notes.md"  # NOT PRIMARY

# CORRECT
claim = "F2 Truth threshold is 0.99"
source = "spec/v45/constitutional_floors.json"  # PRIMARY
```

❌ **DON'T commit working notes to repo root:**
```bash
# WRONG (pollutes repo)
git add notes.md TODO.md session_notes.md

# CORRECT (keep in .arifos_clip/)
git add .arifos_clip/session_notes.md  # If really needed
# Or better: Archive, don't commit
```

❌ **DON'T fabricate session steps:**
```json
// WRONG (F2-CODE violation)
{
  "steps": [
    {"stage": 111, "name": "sense", "output": "Done"}  // LIE - didn't run
  ]
}

// CORRECT (honest state)
{
  "steps": []  // EMPTY - no stages ran, don't claim they did
}
```

---

## Directory Hygiene

**Keep it clean:**
```bash
# Before starting new major work
ls .arifos_clip/*.md

# Archive completed session
DATE=$(date +%Y%m%d)
mkdir -p .arifos_clip/archive/$DATE
mv .arifos_clip/claude_code_self_assessment.md .arifos_clip/archive/$DATE/
mv .arifos_clip/readme_feature_audit_v45.md .arifos_clip/archive/$DATE/

# Fresh session
# (session.json, forge/, holds/ ready for new work)
```

**Retention:**
- Current session: Keep in root
- Completed sessions: Archive with date
- Major milestones: Keep archive indefinitely
- Minor sessions: Review quarterly, keep as needed

---

## DITEMPA BUKAN DIBERI

This directory is for **working notes, not eternal truth**.

**Philosophy:**
- Canon (L1_THEORY/) = Eternal (SEALED until Phoenix-72 amendment)
- Spec (spec/v45/) = Semi-eternal (SHA-256 locked, version-controlled)
- Code (arifos_core/) = Runtime (tested, released)
- .arifos_clip/ = **Ephemeral** (session-scoped, archivable)

**Forged, not given.** Working notes cool into git commits, which cool into ledger entries, which inform future canon amendments. But working notes themselves are NOT law.

**Akal Memerintah. Amanah Mengunci.**

---

**Last Updated:** 2025-12-30 (v45.0 Phoenix-72 Consolidation)
**Maintainer:** Human (Arif) + Claude Code
**License:** AGPL-3.0 (same as repo)
