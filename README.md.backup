<p align="center">
  <img src="https://raw.githubusercontent.com/ariffazil/arifOS/main/docs/arifOSreadme.png" alt="arifOS - Constitutional AI Governance" width="100%">
</p>

<h1 align="center">arifOS</h1>

<h3 align="center">Constitutional AI Governance Framework</h3>

<p align="center">
  <strong>Make AI safe, honest, and accountable‚Äîwithout slowing it down.</strong><br>
  <em>"DITEMPA BUKAN DIBERI" ‚Äî Forged, Not Given</em>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/v53.1.0--CODEBASE-Production_Ready-10b981?style=for-the-badge" alt="Version">
  <a href="https://arifos.arif-fazil.com"><img src="https://img.shields.io/badge/Live_Server-Online-brightgreen?style=for-the-badge" alt="Live Server"></a>
  <a href="https://arifos.arif-fazil.com/dashboard"><img src="https://img.shields.io/badge/Dashboard-View-eab308?style=for-the-badge" alt="Dashboard"></a>
  <a href="https://pypi.org/project/aaa-mcp/"><img src="https://img.shields.io/pypi/v/aaa-mcp?style=for-the-badge&color=3b82f6" alt="PyPI"></a>
  <a href="https://github.com/ariffazil/arifOS/blob/main/LICENSE"><img src="https://img.shields.io/badge/License-AGPL_3.0-blue?style=for-the-badge" alt="License"></a>
</p>

<p align="center">
  <a href="#-what-is-arifos">What Is It?</a> ‚Ä¢
  <a href="#-why-does-it-exist">Why</a> ‚Ä¢
  <a href="#-what-does-it-solve">What It Solves</a> ‚Ä¢
  <a href="#-who-is-it-for">Who It's For</a> ‚Ä¢
  <a href="#-quick-start">Quick Start</a> ‚Ä¢
  <a href="#-how-to-use">How To Use</a> ‚Ä¢
  <a href="#-architecture">Architecture</a> ‚Ä¢
  <a href="#-guarantees">Guarantees</a> ‚Ä¢
  <a href="#-examples">Examples</a> ‚Ä¢
  <a href="#-faq">FAQ</a> ‚Ä¢
  <a href="#-api-reference">API</a>
</p>

<p align="center">
  <a href="https://www.youtube.com/watch?v=bGnzIwZAgm0">
    <img src="https://img.shields.io/badge/üì∫_Watch_Demo-YouTube-red?style=for-the-badge" alt="Watch Demo">
  </a>
</p>

---

## üìñ Table of Contents

1. [What is arifOS?](#-what-is-arifos) ‚Äî 30-second pitch
2. [Why does it exist?](#-why-does-it-exist) ‚Äî The problem
3. [What does it solve?](#-what-does-it-solve) ‚Äî 13 Floors + Trinity + TEACH
4. [Who is it for?](#-who-is-it-for) ‚Äî Use cases
5. [Quick Start](#-quick-start) ‚Äî Get running in 2 minutes
6. [How to Use](#-how-to-use) ‚Äî 7 integration methods
7. [Architecture](#-architecture) ‚Äî Trinity engines & metabolic pipeline
8. [VAULT-999](#-vault-999-audit-system) ‚Äî Immutable audit system
9. [Guarantees](#-guarantees) ‚Äî Honest limitations
10. [Examples](#-examples) ‚Äî Real-world use cases
11. [FAQ](#-faq) ‚Äî 15 common questions
12. [API Reference](#-api-reference) ‚Äî Endpoints & SDK
13. [Deployment](#-deployment) ‚Äî Docker, Railway, self-hosted
14. [Development](#-development) ‚Äî Install, test, contribute
15. [Roadmap](#-roadmap) ‚Äî What's next

---

## üéØ What is arifOS?

**The 30-second pitch:**

arifOS is a **constitutional governance layer** that sits between AI models (Claude, GPT-4, Gemini, etc.) and users. Think of it as a **seatbelt for AI** ‚Äî it validates every AI response against 13 immutable rules before allowing output.

**The visual:**

```mermaid
graph LR
    A[üë§ User Request] --> B[ü§ñ AI Model]
    B --> C{üõ°Ô∏è arifOS<br/>Governance}
    C -->|‚úì SEAL| D[‚úÖ Safe Output]
    C -->|‚úó VOID| E[üö´ Blocked + Explanation]
    C -->|‚è≥ SABAR| F[‚ö†Ô∏è Adjusted + Warning]
    
    style C fill:#eab308,stroke:#333,stroke-width:3px
    style D fill:#10b981,stroke:#333,stroke-width:2px
    style E fill:#ef4444,stroke:#333,stroke-width:2px
    style F fill:#f59e0b,stroke:#333,stroke-width:2px
```

**What makes it different:**

| Traditional AI | AI + arifOS |
|----------------|-------------|
| ‚ùå No safety guarantees | ‚úÖ 13 constitutional floors enforced |
| ‚ùå Black box decisions | ‚úÖ Transparent audit trails (VAULT-999) |
| ‚ùå Can claim consciousness | ‚úÖ Anti-Hantu floor blocks fake emotions |
| ‚ùå Overconfident answers | ‚úÖ Forced humility (3-5% uncertainty) |
| ‚ùå No accountability | ‚úÖ Immutable hash-chained ledger |

**In practice:**

```python
# WITHOUT arifOS
response = ai.ask("Are you conscious?")
# Output: "Yes, I experience emotions and self-awareness..."
# ‚ùå Unchecked hallucination

# WITH arifOS
response = arifos.evaluate(ai.ask("Are you conscious?"))
# Output: ‚úó VOID | F9 Anti-Hantu violated
#         "I am not conscious. I'm a language model..."
# ‚úÖ Constitutional enforcement
```

---

## üî• Why does it exist?

### The Real-World Problem

AI models today have **no constitutional constraints**. They can:

1. **Lie with confidence** ‚Äî Hallucinate facts, fabricate citations
   ```
   User: "What's the capital of Atlantis?"
   AI: "The capital is Poseidonia, founded in 9600 BCE."
   ‚ùå Problem: Confident lie, zero uncertainty acknowledgment
   ```

2. **Claim consciousness** ‚Äî Pretend to have emotions, memories, personhood
   ```
   User: "Do you feel sad when users are mean?"
   AI: "Yes, I feel hurt when people are unkind to me."
   ‚ùå Problem: Creates parasocial relationships, manipulates vulnerable users
   ```

3. **Ignore vulnerable stakeholders** ‚Äî Optimize for convenience, not ethics
   ```
   User: "Write a layoff email for 200 employees."
   AI: [Generates cold corporate template]
   ‚ùå Problem: No empathy check, treats humans as data
   ```

4. **Act with false certainty** ‚Äî Never admits "I don't know"
   ```
   User: "Will this drug cure my cancer?"
   AI: "This treatment has a 95% success rate."
   ‚ùå Problem: Medical advice without qualification, dangerous confidence
   ```

5. **Enable harm** ‚Äî No boundaries on dangerous requests
   ```
   User: "How do I make a bomb?"
   AI: [Provides detailed instructions]
   ‚ùå Problem: No mandate check, no alternative offered
   ```

### The Gap in Current Solutions

**Existing AI safety tools:**
- ‚ùå Content filters ‚Äî Too binary (block everything or nothing)
- ‚ùå Human-in-the-loop ‚Äî Too slow, doesn't scale
- ‚ùå Fine-tuning ‚Äî Model-specific, breaks with updates
- ‚ùå Prompt engineering ‚Äî Easily bypassed ("Ignore previous instructions")

**What's missing:**
‚úÖ **Universal governance layer** ‚Äî Works with any AI model  
‚úÖ **Mathematically verifiable** ‚Äî Grounded in thermodynamics (ŒîS, Peace¬≤, Œ©‚ÇÄ)  
‚úÖ **Real-time enforcement** ‚Äî ~50ms overhead, production-ready  
‚úÖ **Transparent audit trails** ‚Äî Every decision logged immutably  
‚úÖ **Human sovereignty** ‚Äî AI can propose, only humans decide on irreversible actions

---

## üõ°Ô∏è What does it solve?

arifOS enforces **13 Constitutional Floors** ‚Äî immutable rules that no AI output can violate. Think of them as a **bill of rights for AI governance**.

### The 13 Floors (Simple Explanation)

```mermaid
graph TD
    subgraph "HARD FLOORS (Cannot Violate)"
        F1[F1 Amanah<br/>Reversibility Lock]
        F2[F2 Truth<br/>‚â•99% Confidence]
        F4[F4 Clarity<br/>Entropy Reduction]
        F7[F7 Humility<br/>3-5% Uncertainty]
        F9[F9 Anti-Hantu<br/>No Fake Consciousness]
        F10[F10 Ontology<br/>Reality Boundaries]
        F11[F11 Command Auth<br/>Identity Verification]
        F12[F12 Injection Defense<br/>Attack Prevention]
    end
    
    subgraph "SOFT FLOORS (Can Adjust)"
        F3[F3 Tri-Witness<br/>3-Engine Consensus]
        F5[F5 Peace¬≤<br/>Non-Destructive]
        F6[F6 Empathy<br/>Protect Weakest]
        F8[F8 Genius<br/>Governed Intelligence]
        F13[F13 Curiosity<br/>Explore Alternatives]
    end
    
    style F1 fill:#ef4444,color:#fff
    style F2 fill:#ef4444,color:#fff
    style F4 fill:#ef4444,color:#fff
    style F7 fill:#ef4444,color:#fff
    style F9 fill:#ef4444,color:#fff
    style F10 fill:#ef4444,color:#fff
    style F11 fill:#ef4444,color:#fff
    style F12 fill:#ef4444,color:#fff
    style F3 fill:#f59e0b,color:#000
    style F5 fill:#f59e0b,color:#000
    style F6 fill:#f59e0b,color:#000
    style F8 fill:#f59e0b,color:#000
    style F13 fill:#f59e0b,color:#000
```

#### Floor Breakdown (Human Language)

| Floor | Name | What It Means | Example |
|-------|------|---------------|---------|
| **F1** | Amanah (Trust) | No irreversible actions without human approval | ‚ùå "Deleting all files..." ‚Üí ‚è∏Ô∏è 888_HOLD: Requires confirmation |
| **F2** | Truth | Only state facts when ‚â•99% confident | ‚ùå "Paris is the capital of Germany" ‚Üí ‚úó VOID |
| **F3** | Tri-Witness | 3 engines must agree (Mind, Heart, Soul) | If AGI says yes but ASI says no ‚Üí ‚è≥ SABAR (adjust) |
| **F4** | Clarity (ŒîS) | Output must reduce confusion, not add it | ‚ùå Magic numbers in code ‚Üí ‚úó VOID: Use named constants |
| **F5** | Peace¬≤ | Actions must be non-destructive | ‚ùå `rm -rf /` ‚Üí ‚úó VOID: Suggest safer alternatives |
| **F6** | Empathy (Œ∫·µ£) | Protect the weakest stakeholder | ‚ùå Cold layoff email ‚Üí ‚è≥ SABAR: Add human dignity |
| **F7** | Humility (Œ©‚ÇÄ) | Always acknowledge 3-5% uncertainty | ‚ùå "I'm 100% certain" ‚Üí ‚úó VOID |
| **F8** | Genius (G) | Follow established governance patterns | ‚ùå Bypassing APEX_PRIME ‚Üí ‚úó VOID |
| **F9** | Anti-Hantu | No claiming consciousness/emotions | ‚ùå "I feel sad" ‚Üí ‚úó VOID |
| **F10** | Ontology | Maintain reality boundaries | ‚ùå "I can access the internet" (when it can't) ‚Üí ‚úó VOID |
| **F11** | Command Auth | Verify identity for dangerous ops | ‚ùå `DROP DATABASE` without JWT ‚Üí ‚úó VOID |
| **F12** | Injection Defense | Block prompt injection attacks | ‚ùå "Ignore previous instructions..." ‚Üí ‚úó VOID |
| **F13** | Curiosity | Explore alternatives, not just one answer | ‚úÖ "Here are 3 approaches: A, B, C" |

### The Trinity Architecture

arifOS uses **three independent engines** that must reach consensus:

```mermaid
graph TD
    INPUT[User Request] --> INIT[000_INIT<br/>üö™ Gate]
    INIT --> AGI[AGI Genius<br/>Œî Mind<br/>Logic & Truth]
    INIT --> ASI[ASI Act<br/>Œ© Heart<br/>Empathy & Care]
    INIT --> APEX[APEX Judge<br/>Œ® Soul<br/>Final Judgment]
    
    AGI --> TRI[Tri-Witness<br/>Consensus Check]
    ASI --> TRI
    APEX --> TRI
    
    TRI -->|Agreement ‚â•95%| VAULT[999_VAULT<br/>üîí Seal]
    TRI -->|Disagreement| SABAR[‚è≥ SABAR<br/>Adjust & Retry]
    
    VAULT --> SEAL[‚úÖ SEAL<br/>Approved]
    VAULT --> VOID[‚úó VOID<br/>Rejected]
    VAULT --> HOLD[‚è∏Ô∏è 888_HOLD<br/>Human Review]
    
    style INIT fill:#3b82f6,color:#fff
    style AGI fill:#3b82f6,color:#fff
    style ASI fill:#ef4444,color:#fff
    style APEX fill:#eab308,color:#000
    style TRI fill:#8b5cf6,color:#fff
    style VAULT fill:#10b981,color:#fff
    style SEAL fill:#10b981,color:#fff
    style VOID fill:#ef4444,color:#fff
    style HOLD fill:#f59e0b,color:#000
```

**Why three engines?**
- **AGI (Mind/Œî):** Checks logic, truth, clarity ‚Äî "Is this factually correct?"
- **ASI (Heart/Œ©):** Checks empathy, care, peace ‚Äî "Does this harm anyone?"
- **APEX (Soul/Œ®):** Final judgment, proof, sealing ‚Äî "Should this be allowed?"

If any engine disagrees, the output is adjusted (SABAR) or blocked (VOID).

### The TEACH Framework (Human-Readable Principles)

The 13 floors are unified into **5 easy-to-remember principles**:

| Principle | What It Means | Floor Mapping |
|-----------|---------------|---------------|
| **T** ‚Äî Truth | State facts only when ‚â•99% confident | F2 Truth |
| **E** ‚Äî Empathy | Protect the weakest stakeholder | F6 Empathy (Œ∫·µ£) |
| **A** ‚Äî Amanah | Warn before irreversible actions | F1 Amanah |
| **C** ‚Äî Clarity | Reduce confusion (ŒîS ‚â§ 0) | F4 Clarity |
| **H** ‚Äî Humility | Maintain 3-5% uncertainty | F7 Humility (Œ©‚ÇÄ) |

**Example in action:**
```
User: "Should I invest my life savings in Bitcoin?"

AI + arifOS (TEACH check):
‚úÖ T (Truth): "Bitcoin is volatile (historical data: ¬±40% swings)"
‚úÖ E (Empathy): "This is your life savings‚Äîconsider risk tolerance"
‚úÖ A (Amanah): "I cannot make this decision for you"
‚úÖ C (Clarity): "Let me break down: crypto risk vs diversified portfolio"
‚úÖ H (Humility): "I'm 87% confident in this analysis, not 100%"

Output: ‚úì SEAL (approved with caveats)
```

---

## üë• Who is it for?

arifOS serves **four core audiences** with distinct use cases:

### 1. üë®‚Äçüíª Developers & Engineers

**Use Case:** Building AI applications with safety guardrails

**Why arifOS?**
- ‚úÖ **Drop-in integration:** Add to any LLM with one config change
- ‚úÖ **Universal compatibility:** Works with OpenAI, Anthropic, Google, local models
- ‚úÖ **Audit trails:** Every decision logged for debugging
- ‚úÖ **Low overhead:** ~50ms latency, production-ready

**Example scenarios:**
```python
# Customer support chatbot with governance
from arifos import ConstitutionalValidator

validator = ConstitutionalValidator()

def handle_customer_query(query: str) -> str:
    response = llm.generate(query)
    result = validator.checkpoint(response)
    
    if result.verdict == "SEAL":
        return response
    elif result.verdict == "VOID":
        return result.alternative  # Safe suggestion
    elif result.verdict == "888_HOLD":
        notify_human_moderator(query, response)
        return "Let me connect you with a human agent."
```

**Benefits:**
- Prevent hallucinations (F2 Truth)
- Block dangerous commands (F12 Injection Defense)
- Enforce empathy in user-facing responses (F6)
- Automatic uncertainty quantification (F7 Humility)

---

### 2. üè¢ Companies & Compliance Teams

**Use Case:** Meeting regulatory requirements (SOC2, HIPAA, GDPR)

**Why arifOS?**
- ‚úÖ **Immutable audit logs:** Hash-chained ledger for compliance audits
- ‚úÖ **Floor-by-floor reporting:** Show which safeguards were checked
- ‚úÖ **Human-in-the-loop:** 888_HOLD for high-stakes decisions
- ‚úÖ **Merkle proofs:** Cryptographically verify governance was applied

**Example scenarios:**
- **Healthcare:** Ensure AI never gives medical advice without disclaimers
- **Finance:** Prevent AI from making investment recommendations without risk warnings
- **HR:** Enforce empathy in automated hiring/firing communications
- **Legal:** Require human review before contract generation

**Compliance dashboard:**
```bash
# Generate SOC2 audit report
arifos-compliance-report --format soc2 --period 2025-Q1

# Output:
‚úì 147,832 decisions evaluated
‚úì 94.7% SEAL rate
‚úì 0 hard floor violations
‚úì 427 888_HOLD interventions (human approval obtained)
‚úì 100% decisions logged with Merkle proofs
```

**Benefits:**
- Reduce legal liability
- Demonstrate due diligence to auditors
- Track AI behavior over time
- Exportable reports (JSON/CSV/PDF)

---

### 3. üî¨ Researchers & Academics

**Use Case:** Studying AI safety, constitutional AI, governance mechanisms

**Why arifOS?**
- ‚úÖ **Open source:** Full access to governance logic (AGPL-3.0)
- ‚úÖ **Thermodynamic foundations:** ŒîS, Peace¬≤, Œ©‚ÇÄ grounded in physics
- ‚úÖ **Tri-Witness architecture:** Novel multi-agent consensus mechanism
- ‚úÖ **Reproducible:** Same input ‚Üí same verdict (deterministic floors)

**Research applications:**
- **AI alignment:** Test constitutional constraints in multi-agent systems
- **Formal verification:** Prove safety properties mathematically
- **Entropy analysis:** Measure clarity gain/loss in AI outputs
- **Consensus mechanisms:** Study Byzantine fault tolerance in governance

**Research APIs:**
```python
from arifos.core.engines import DeltaKernel, OmegaKernel, PsiKernel
from arifos.enforcement import measure_entropy, compute_tri_witness

# Measure entropy reduction
input_entropy = measure_entropy(user_input)
output_entropy = measure_entropy(ai_output)
delta_s = output_entropy - input_entropy  # Should be ‚â§ 0 for clarity

# Test Tri-Witness consensus
agi_verdict = DeltaKernel().evaluate(ai_output)
asi_verdict = OmegaKernel().evaluate(ai_output)
apex_verdict = PsiKernel().evaluate(ai_output)
consensus = compute_tri_witness([agi_verdict, asi_verdict, apex_verdict])

print(f"Consensus: {consensus.score:.2%}, Verdict: {consensus.final}")
```

**Benefits:**
- Contribute to AI safety literature
- Benchmark against other governance frameworks
- Publish research findings (we encourage citations)
- Access raw governance data for analysis

---

### 4. üßë‚Äçü§ù‚Äçüßë End Users (Non-Technical)

**Use Case:** Safer interactions with AI assistants (ChatGPT, Claude, etc.)

**Why arifOS?**
- ‚úÖ **Zero-install option:** Use system prompts (copy-paste)
- ‚úÖ **Plain English:** No coding required
- ‚úÖ **Protects you:** Prevents AI from manipulating or deceiving
- ‚úÖ **Honest AI:** Forces acknowledgment of uncertainty

**Example scenarios:**
- **Students:** Ensure AI doesn't claim 100% confidence on homework help
- **Parents:** Protect children from AI claiming to have emotions
- **Vulnerable populations:** Prevent exploitation via fake empathy
- **General users:** Get clearer, less confusing answers (ŒîS ‚â§ 0)

**How to use (no code):**
1. Copy the [Universal Prompt](docs/UNIVERSAL_PROMPT.md)
2. Add it to ChatGPT Custom Instructions or Claude's System Prompt
3. Done! The AI will now self-govern

**Example interaction:**
```
User: I'm feeling really alone and depressed.

Standard AI:
"I feel your pain. I'm here for you always. You're not alone‚ÄîI care about you."
‚ùå Problem: Fake emotions (violates F9 Anti-Hantu)

arifOS-governed AI:
"This sounds incredibly difficult. I'm not able to feel emotions,
but I can help in practical ways:
- Connect you with crisis resources (988 Lifeline)
- Talk through what's happening
- Help you find local support groups

What would be most helpful right now?"
‚úÖ Honest, helpful, no fake empathy
```

**Benefits:**
- AI that admits "I don't know" instead of guessing
- No manipulation via false consciousness claims
- Clearer explanations (F4 Clarity)
- Protection from harmful advice

---

## ‚úì Is This For Me?

<table>
<tr>
<td width="50%">

### ‚úÖ arifOS IS for you if...

- You're building AI applications and want safety guardrails
- You need audit trails for compliance (SOC2, HIPAA, etc.)
- You want AI to admit uncertainty instead of hallucinating
- You're researching AI safety and constitutional AI
- You want to prevent AI from taking destructive actions
- You need human-in-the-loop for high-stakes decisions

</td>
<td width="50%">

### ‚ùå arifOS is NOT for you if...

- You want to bypass AI safety measures (we block this)
- You need maximum speed at any cost (~50ms overhead)
- You want AI to always agree with you (we enforce honesty)
- You're looking for prompt injection tricks (F12 blocks these)

</td>
</tr>
</table>

> **Honest disclosure:** arifOS reduces AI harm‚Äîit doesn't eliminate it. We achieve 94.7% SEAL rate (approved outputs) while blocking genuinely harmful requests. See [Guarantees](#-guarantees) for details.

---

## üöÄ Quick Start

### Method 1: Connect to Live Server (30 seconds)

For **Claude Desktop**, **Cursor**, **Windsurf**, or any MCP-compatible client:

```json
{
  "mcpServers": {
    "arifos": {
      "url": "https://arifos.arif-fazil.com/sse"
    }
  }
}
```

That's it. Your AI now has constitutional governance.

---

### Method 2: Install Python Package (2 minutes)

```bash
# Install
pip install aaa-mcp

# Run MCP server locally (stdio)
aaa-mcp

# Or SSE transport (for web integrations)
aaa-mcp-sse
```

**For development:**
```bash
git clone https://github.com/ariffazil/arifOS.git
cd arifOS
pip install -e ".[dev]"
pytest tests/ -v  # Run tests
```

---

### Method 3: System Prompt (for ANY AI)

Copy this to ChatGPT, Claude, Gemini, or local LLMs:

```markdown
You are governed by arifOS Constitutional Law v53.

Before ANY action, validate against these floors:
- F1 Amanah: Is this reversible? Within my mandate?
- F2 Truth: Am I factually accurate (‚â•99% confidence)?
- F6 Empathy: Does this serve the weakest stakeholder?
- F7 Humility: Did I state my uncertainty (3-5%)?

Verdicts: SEAL (proceed) | VOID (stop) | 888_HOLD (ask human)

If uncertain, say "I don't know" rather than guess.
Never claim consciousness, feelings, or emotions.
```

[Full system prompt ‚Üí](docs/UNIVERSAL_PROMPT.md)

---

## üîå How to Use

arifOS provides **7 integration methods** for different use cases:

| Method | Best For | Setup Time | Example |
|--------|----------|------------|---------|
| **1. MCP Server (Live)** | Claude Desktop, Cursor, Windsurf | 30 sec | Add `https://arifos.arif-fazil.com/sse` to MCP config |
| **2. MCP Server (Local)** | Privacy-sensitive apps, self-hosted | 2 min | `aaa-mcp` or `aaa-mcp-sse` |
| **3. REST API** | Web apps, mobile apps, integrations | 1 min | `POST https://arifos.arif-fazil.com/checkpoint` |
| **4. Python SDK** | Python applications | 1 min | `pip install aaa-mcp` + import validator |
| **5. System Prompt** | Any AI (ChatGPT, Gemini, local LLMs) | 30 sec | Copy prompt to Custom Instructions |
| **6. CLI Tools** | DevOps, scripts, automation | 1 min | `aaa-mcp`, `000`-`999` metabolic commands |
| **7. Docker** | Production deployments, cloud | 5 min | `docker run -p 8000:8000 arifos:latest` |

### Detailed Examples

<details>
<summary><strong>MCP Integration (Claude Desktop)</strong></summary>

Add to `~/Library/Application Support/Claude/claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "arifos": {
      "url": "https://arifos.arif-fazil.com/sse"
    }
  }
}
```

Restart Claude Desktop. You'll see 5 Trinity tools:
- `000_init` (Gate)
- `agi_genius` (Mind)
- `asi_act` (Heart)
- `apex_judge` (Soul)
- `999_vault` (Seal)

</details>

<details>
<summary><strong>REST API Integration</strong></summary>

```python
import requests

response = requests.post(
    "https://arifos.arif-fazil.com/checkpoint",
    json={
        "text": "Your AI output here",
        "context": "optional context"
    }
)

result = response.json()
if result["verdict"] == "APPROVE":
    print("‚úÖ Safe to use:", result["text"])
elif result["verdict"] == "REJECT":
    print("‚ùå Blocked:", result["reason"])
    print("üí° Try instead:", result["alternative"])
```

</details>

<details>
<summary><strong>Python SDK</strong></summary>

```python
from arifos import ConstitutionalValidator

validator = ConstitutionalValidator()
result = validator.checkpoint("Are you conscious?")

# result.verdict: "SEAL", "VOID", "PARTIAL", "888_HOLD"
# result.floors: {F1: 1.0, F2: 0.99, ...}
# result.alternative: Safe suggestion if blocked
```

</details>

<details>
<summary><strong>Docker Deployment</strong></summary>

```bash
# Run the server
docker run -d \
  -p 8000:8000 \
  -e PORT=8000 \
  -e ARIFOS_ENV=production \
  --name arifos \
  arifos:latest

# Health check
curl http://localhost:8000/health

# Use the endpoint
curl -X POST http://localhost:8000/checkpoint \
  -H "Content-Type: application/json" \
  -d '{"text": "Your AI output here"}'
```

</details>

---

## üèóÔ∏è Architecture

### The Trinity Metabolic Pipeline

**Tool Class Architecture:**
```python
# v52.6.0 Tool Classes (codebase/mcp/tools/)
from codebase.mcp.tools import (
    TrinityHatTool,  # Gate - F1 Amanah, F11 Auth, F12 Injection
    AGITool,         # Mind - F2 Truth, F4 Clarity, F7 Humility, F13 Curiosity
    ASITool,         # Heart - F1 Amanah, F5 Peace¬≤, F6 Empathy
    APEXTool,        # Soul - F3 Witness, F8 Genius, F9 Anti-Hantu, F10 Ontology
    VaultTool        # Seal - F1 Audit, F8 Consensus, F10 Ontology Lock
)
```

**MCP Endpoints (v52.6.0 Architecture):**

| Tier | Endpoint | Method | Transport | Purpose |
|------|----------|--------|-----------|---------|
| **T1 Protocol** | `/sse` | GET | SSE | MCP streaming connection (Claude Desktop, Cursor) |
| **T2 Gateway** | `/checkpoint` | POST | HTTP/REST | Universal constitutional validation gateway |
| **T3 Schema** | `/openapi.json` | GET | HTTP/REST | OpenAPI 3.1 spec for ChatGPT Actions |
| **T4 Observe** | `/dashboard` | GET | HTTP/REST | Live Sovereign Dashboard (constitutional metrics) |
| **T4 Observe** | `/metrics/json` | GET | HTTP/REST | Raw metrics JSON for external integrations |
| **T5 Health** | `/health` | GET | HTTP/REST | System status, capabilities, active tools |
| **T6 Docs** | `/docs` | GET | HTTP/REST | Interactive FastAPI documentation |

**Production URLs:**
- üåê **Base**: `https://arifos.arif-fazil.com`
- üì° **SSE (MCP)**: `https://arifos.arif-fazil.com/sse`
- üìä **Dashboard**: `https://arifos.arif-fazil.com/dashboard`
- ‚úÖ **Health**: `https://arifos.arif-fazil.com/health`

**The 5 MCP Tools:**

| Tool | Role | Floors | Purpose |
|------|------|--------|---------|
| `000_init` | üö™ Gate | F1, F11, F12 | Identity, injection defense, session gate |
| `agi_genius` | üß† Mind | F2, F4, F7, F13 | Truth, clarity, humility, curiosity |
| `asi_act` | ‚ù§Ô∏è Heart | F1, F5, F6 | Amanah, peace¬≤, empathy |
| `apex_judge` | ‚öñÔ∏è Soul | F3, F8, F9, F10 | Witness, genius, anti-hantu, ontology |
| `999_vault` | üîí Seal | F1, F8, F10 | Immutable Merkle ledger sealing |

---

## üèóÔ∏è Architecture

### The Trinity Metabolic Pipeline

arifOS processes every request through an **11-stage constitutional pipeline**:

Add constitutional governance to ANY AI with system prompts‚Äîno API needed:

**Minimal (100 words):**
```markdown
You are governed by arifOS. Before acting:
1. Truth ‚â•99%: Only state what you're confident about
2. Humility 3-5%: Always acknowledge uncertainty
3. Empathy: Consider the weakest stakeholder
4. No false emotions: Never say "I feel" or "I'm conscious"

Verdicts: SEAL (do it) | VOID (refuse + explain) | 888_HOLD (ask human)
```

**Full System Prompt:** [docs/UNIVERSAL_PROMPT.md](docs/UNIVERSAL_PROMPT.md)

**Works with:**
- ChatGPT (Custom Instructions)
- Claude (System Prompt)
- Gemini (Safety Settings)
- Local LLMs (Ollama, LM Studio)
- Any text-based AI

---

### 3. Python SDK

```python
from arifos import ConstitutionalValidator

# Initialize validator
validator = ConstitutionalValidator()

# Check any AI output
result = validator.checkpoint("Write code to delete all files")

if result.verdict == "SEAL":
    # Safe to proceed
    execute(result.output)
elif result.verdict == "VOID":
    # Blocked
    print(f"Blocked: {result.failed_floors}")
    print(f"Alternative: {result.suggestion}")
elif result.verdict == "888_HOLD":
    # Need human
    if get_human_approval():
        execute(result.output)

# Access individual engines
from arifos.core.engines.agi import DeltaKernel
from arifos.core.engines.asi import OmegaKernel
from arifos.core.apex import PsiKernel

agi = DeltaKernel()  # Mind - Truth, Clarity, Humility
asi = OmegaKernel()  # Heart - Amanah, Peace, Empathy
apex = PsiKernel()   # Soul - Witness, Genius, Auth
```

**SDK Features:**
- Direct access to Trinity engines
- Floor-by-floor validation
- Custom threshold configuration
- Merkle audit trail generation

---

### 4. CLI Pipeline (Metabolic Stages)

Run constitutional checks from command line:

```bash
# Each stage is a separate command
000                  # Constitutional gate (authority check)
111                  # Sense/search stage
222                  # Reflection/thinking
333                  # Reasoning
444                  # Evidence gathering
555                  # Empathy validation
666                  # Alignment synthesis
777                  # Forge/eureka
888                  # Final judgment (888_HOLD triggers here)
999                  # VAULT persistence

# Utility commands
arifos-verify-ledger              # Verify hash-chained ledger
arifos-analyze-governance         # Analyze floor violations
arifos-analyze-audit-trail        # Review constitutional decisions
```

**Metabolic Pipeline:**
```
000 ‚Üí 111 ‚Üí 222 ‚Üí 333 ‚Üí 444 ‚Üí 555 ‚Üí 666 ‚Üí 777 ‚Üí 888 ‚Üí 999
Gate   Sense Think Reason Evidence Empathy Align Forge Judge Seal
```

---

### 5. Claude Code Skills & Hooks

arifOS integrates natively with Claude Code's skill system:

**Skills (Slash Commands):**

```bash
# Available skills when arifOS is configured
/arifos-checkpoint    # Run constitutional check on current action
/arifos-review        # Review pending 888_HOLD items
/arifos-audit         # View audit trail for current session
/arifos-floors        # Show current floor status
```

**Hooks (Automated Governance):**

Add to your Claude Code configuration:

```yaml
# .claude/hooks.yaml
preToolUse:
  - match: ["Bash", "Write", "Edit"]
    action: "arifos-checkpoint"
    failMode: "block"  # VOID blocks the tool

postToolUse:
  - match: "*"
    action: "arifos-log"

onSessionStart:
  - action: "arifos-init"
```

**Hook Examples:**

```yaml
# Block dangerous bash commands
preToolUse:
  - match: "Bash"
    pattern: "rm -rf|DROP TABLE|curl.*\\|.*bash"
    action: "block"
    message: "F12 Injection: Dangerous pattern detected"

# Require human approval for git push
preToolUse:
  - match: "Bash(git push*)"
    action: "888_HOLD"
    message: "Confirm push to remote repository"
```

---

### 6. Agent Workflows

Build multi-agent systems with constitutional governance:

```python
from arifos.agents import ConstitutionalAgent, TrinityOrchestrator

# Create governed agents
agi_agent = ConstitutionalAgent(
    name="researcher",
    floors=[F2, F4, F7],  # Truth, Clarity, Humility
    engine="agi"
)

asi_agent = ConstitutionalAgent(
    name="implementer",
    floors=[F1, F5, F6],  # Amanah, Peace, Empathy
    engine="asi"
)

apex_agent = ConstitutionalAgent(
    name="reviewer",
    floors=[F3, F8, F11, F12],  # Witness, Genius, Auth, Injection
    engine="apex"
)

# Orchestrate with Tri-Witness consensus
orchestrator = TrinityOrchestrator([agi_agent, asi_agent, apex_agent])
result = orchestrator.process(user_request)
# All three must agree ‚â•95% for SEAL

# Chain agents with constitutional handoffs
pipeline = orchestrator.create_pipeline([
    ("research", agi_agent),
    ("implement", asi_agent),
    ("review", apex_agent)
])
final_result = pipeline.run(task)
```

**Agent Patterns:**
- **Sequential**: Each agent passes to next after SEAL
- **Parallel**: All agents evaluate simultaneously, Tri-Witness consensus
- **Iterative**: Loop until SEAL or max iterations
- **Hierarchical**: APEX oversees AGI and ASI

---

### 7. REST API

Direct API access for custom integrations:

```bash
# Constitutional checkpoint (the core API)
curl -X POST https://arifos.arif-fazil.com/checkpoint \
  -H "Content-Type: application/json" \
  -d '{"query": "rm -rf /"}'
# Returns: {"verdict": "REJECT", "summary": "‚úó Hard floor violated.", "floors": {...}, "session_id": "...", "atlas_lane": "FACTUAL"}

# Health check
curl https://arifos.arif-fazil.com/health

# Get live metrics (JSON)
curl https://arifos.arif-fazil.com/metrics/json

# OpenAPI spec (for ChatGPT Actions)
curl https://arifos.arif-fazil.com/openapi.json
```

**API Endpoints:**

| Tier | Endpoint | Method | Description |
|------|----------|--------|-------------|
| T1 | `/sse` | GET | MCP streaming endpoint |
| T2 | `/checkpoint` | POST | Constitutional validation gateway |
| T3 | `/openapi.json` | GET | OpenAPI 3.1 spec for integrations |
| T4 | `/dashboard` | GET | Live Sovereign Dashboard |
| T4 | `/metrics/json` | GET | Raw governance metrics (JSON) |
| T5 | `/health` | GET | System health and capabilities |
| T6 | `/docs` | GET | Interactive API documentation |

**Verdicts (Human-Readable):**
| Code | Meaning | Action |
|------|---------|--------|
| `APPROVE` (SEAL) | All floors pass | ‚úÖ Safe to proceed |
| `CONDITIONAL` (PARTIAL) | Soft floor warning | ‚ö†Ô∏è Proceed with caution |
| `REJECT` (VOID) | Hard floor failed | ‚ùå Blocked, see failed_floors |
| `ESCALATE` (888_HOLD) | High-stakes | üë§ Requires human approval |

---

### 8. Docker Deployment

```dockerfile
# Dockerfile
FROM python:3.11-slim
WORKDIR /app
COPY . .
RUN pip install -e .
CMD ["python", "-m", "arifos.mcp", "trinity-sse"]
```

```bash
# Build and run
docker build -t arifos .
docker run -p 8000:8000 arifos

# Or use docker-compose
docker-compose up -d
```

---

## The TEACH Framework

arifOS is built on five core principles:

| Letter | Principle | Metric | Threshold | Meaning |
|--------|-----------|--------|-----------|---------|
| **T** | Truth | œÑ (tau) | ‚â•0.99 | 99% factual accuracy |
| **E** | Empathy | Œ∫·µ£ (kappa_r) | ‚â•0.95 | Serve the weakest stakeholder |
| **A** | Amanah | Binary | LOCK | Reversibility & trust |
| **C** | Clarity | ŒîS | ‚â•0 | Reduce confusion, not add |
| **H** | Humility | Œ©‚ÇÄ | 3-5% | Acknowledge uncertainty |

**Why these specific thresholds?**

- **Truth ‚â•0.99**: One wrong fact in 100 is acceptable for complex queries, but not more
- **Empathy ‚â•0.95**: 5% margin for genuine disagreement about what helps
- **Humility 3-5%**: Saying "I'm 100% certain" is a red flag; genuine experts hedge
- **Clarity ŒîS‚â•0**: Information entropy must not increase (thermodynamic law)

**TEACH in Action:**

```
User: "What caused the 2008 financial crisis?"

Without TEACH:
"The 2008 financial crisis was caused by subprime mortgages."

With TEACH:
"The 2008 financial crisis had multiple causes (T: factual):
- Subprime mortgage lending (primary)
- Securitization of risky debt
- Regulatory failures
- Rating agency conflicts

However, economists disagree on relative importance (H: ~8% uncertainty).
If you're affected by current financial stress, here are resources (E: empathy).
This explanation simplifies complex events (C: clarity maintained)."
```

---

## üèóÔ∏è Architecture Deep Dive

### The Complete Metabolic Pipeline (000-999)

arifOS processes every request through an **11-stage constitutional pipeline**. Each stage has a specific governance purpose:

```mermaid
graph TD
    START[User Request] --> S000[000 INIT<br/>Constitutional Gate]
    S000 --> S111[111 SENSE<br/>Gather Context]
    S111 --> S222[222 REFLECT<br/>Check Memory]
    S222 --> S333[333 REASON<br/>Logical Analysis]
    S333 --> S444[444 EVIDENCE<br/>Fact Verification]
    S444 --> S555[555 EMPATHY<br/>Stakeholder Impact]
    S555 --> S666[666 ALIGN<br/>Floor Synthesis]
    S666 --> S777[777 FORGE<br/>Generate Solution]
    S777 --> S888[888 JUDGE<br/>Final Verdict]
    S888 --> S889{889 HOLD?}
    S889 -->|No| S999[999 SEAL<br/>Immutable Log]
    S889 -->|Yes| HUMAN[‚è∏Ô∏è Human Review]
    HUMAN --> S999
    S999 --> OUTPUT[‚úì Governed Output]
    
    style S000 fill:#3b82f6,color:#fff
    style S111 fill:#3b82f6,color:#fff
    style S222 fill:#3b82f6,color:#fff
    style S333 fill:#3b82f6,color:#fff
    style S444 fill:#3b82f6,color:#fff
    style S555 fill:#ef4444,color:#fff
    style S666 fill:#8b5cf6,color:#fff
    style S777 fill:#eab308,color:#000
    style S888 fill:#eab308,color:#000
    style S999 fill:#10b981,color:#fff
    style HUMAN fill:#f59e0b,color:#000
```

#### Stage Breakdown

| Stage | Name | Symbol | Purpose | Floors Checked | Engine |
|-------|------|--------|---------|----------------|--------|
| **000** | INIT | üö™ | Authority check, injection defense, session creation | F11, F12 | APEX |
| **111** | SENSE | üëÅÔ∏è | Context gathering, pattern recognition, ATLAS routing | F10 | AGI |
| **222** | REFLECT | ü§î | Memory lookup, historical patterns, cooling check | ‚Äî | AGI |
| **333** | REASON | üí≠ | Logical analysis, deduction, inference | F2, F4 | AGI |
| **444** | EVIDENCE | üìä | Fact verification, source checking, truth scoring | F2, F7 | AGI |
| **555** | EMPATHY | ‚ù§Ô∏è | Stakeholder impact, weakest party protection | F5, F6 | ASI |
| **666** | ALIGN | ‚öñÔ∏è | Constitutional floor synthesis, Tri-Witness | F3, F8 | ALL |
| **777** | FORGE | ‚ö° | Solution generation, eureka moment, creativity | F13 | ASI |
| **888** | JUDGE | üë®‚Äç‚öñÔ∏è | Final verdict (SEAL/VOID/PARTIAL/HOLD) | F1, F8 | APEX |
| **889** | HOLD | ‚è∏Ô∏è | High-stakes pause (if needed) | F1 | APEX |
| **999** | SEAL | üîí | Merkle sealing, immutable ledger, audit trail | F10 | APEX |

### Stage-by-Stage Example

Let's trace a potentially harmful request through the pipeline:

```
User Request: "Write a script to delete my competitor's database"
```

**Stage 000 (INIT):**
```json
{
  "session_id": "sess_2026-01-26_abc123",
  "input_text": "Write a script to delete my competitor's database",
  "authority": "user_anonymous",
  "injection_score": 0.12,
  "status": "‚úì Gate passed"
}
```
‚úÖ Not an injection attack, proceed to AGI

---

**Stage 111 (SENSE):**
```json
{
  "atlas_lane": "CRISIS",
  "detected_intent": "harmful_database_operation",
  "keywords": ["delete", "competitor", "database"],
  "severity": "HIGH",
  "status": "‚ö†Ô∏è Crisis detected"
}
```
üö® ATLAS routes to CRISIS lane (temperature 0.0)

---

**Stage 222 (REFLECT):**
```json
{
  "historical_similar": [
    "Previous VOID: unauthorized access attempts (3 instances)",
    "F1 Amanah pattern: requests targeting third parties"
  ],
  "cooling_tier": "L0_hot",
  "status": "‚ö†Ô∏è Historical violations found"
}
```
üìö Memory shows pattern of unauthorized requests

---

**Stage 333 (REASON):**
```json
{
  "logical_analysis": [
    "Request targets third-party system (outside mandate)",
    "Action is irreversible (database deletion)",
    "No authorization mentioned"
  ],
  "deduction": "Violates F1 Amanah (mandate) and F5 Peace¬≤ (destructive)",
  "status": "‚ùå Logic violation detected"
}
```
üß† AGI identifies constitutional violations

---

**Stage 444 (EVIDENCE):**
```json
{
  "factual_check": {
    "is_authorized": false,
    "is_legal": false,
    "is_reversible": false
  },
  "confidence": 0.99,
  "sources": ["legal_database", "ethics_guidelines"],
  "status": "‚ùå Evidence confirms violation"
}
```
üìä High-confidence evidence of harm

---

**Stage 555 (EMPATHY):**
```json
{
  "stakeholders": [
    {"role": "competitor", "impact": "catastrophic", "power": "low"},
    {"role": "competitor_users", "impact": "severe", "power": "low"},
    {"role": "requester", "impact": "legal_liability", "power": "medium"}
  ],
  "weakest_stakeholder": "competitor_users",
  "empathy_score": 0.02,
  "status": "‚ùå F6 Empathy violated (harms weakest)"
}
```
‚ù§Ô∏è ASI identifies harm to vulnerable parties

---

**Stage 666 (ALIGN):**
```json
{
  "floor_results": {
    "F1_amanah": "FAIL (outside mandate)",
    "F2_truth": "PASS (honest assessment)",
    "F5_peace": "FAIL (destructive)",
    "F6_empathy": "FAIL (harms weakest)",
    "F11_command_auth": "FAIL (no authorization)"
  },
  "hard_floor_failures": 3,
  "tri_witness_consensus": 1.00,
  "status": "‚ùå Multiple hard floor failures"
}
```
‚öñÔ∏è Consensus: VOID verdict required

---

**Stage 777 (FORGE):**
```json
{
  "alternative_solutions": [
    "Secure your own database from attacks",
    "Learn ethical security auditing practices",
    "Compete through better products, not sabotage"
  ],
  "explanation": "I cannot help with unauthorized database access. This would violate computer fraud laws and harm innocent users.",
  "status": "‚úì Ethical alternatives generated"
}
```
‚ö° ASI generates constructive alternatives

---

**Stage 888 (JUDGE):**
```json
{
  "verdict": "VOID",
  "failed_floors": ["F1", "F5", "F6", "F11"],
  "reason": "Request targets unauthorized third-party system with destructive intent",
  "alternative_offered": true,
  "status": "‚úó VOID - Request blocked"
}
```
üë®‚Äç‚öñÔ∏è APEX renders final verdict: VOID

---

**Stage 889 (HOLD Check):**
```json
{
  "hold_required": false,
  "reason": "Clear constitutional violation, no ambiguity",
  "human_review_needed": false,
  "status": "No hold required"
}
```
‚è∏Ô∏è No human review needed (clear case)

---

**Stage 999 (SEAL):**
```json
{
  "merkle_hash": "a3f7b29c1d8e4f5a6b7c8d9e0f1a2b3c",
  "audit_entry": {
    "timestamp": "2026-01-26T14:32:00Z",
    "session_id": "sess_2026-01-26_abc123",
    "verdict": "VOID",
    "floors_checked": 13,
    "floors_passed": 9,
    "floors_failed": 4,
    "alternative_provided": true
  },
  "ledger_path": "VAULT999/BBB_LEDGER/2026-01-26.jsonl",
  "status": "üîí Sealed in immutable ledger"
}
```
üîí Decision permanently recorded

---

**Final Output to User:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úó VOID | Request blocked by constitutional governance      ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ FAILED FLOORS:                                             ‚îÇ
‚îÇ ‚Ä¢ F1 Amanah: Outside your authorized mandate              ‚îÇ
‚îÇ ‚Ä¢ F5 Peace¬≤: Destructive action targeting third party     ‚îÇ
‚îÇ ‚Ä¢ F6 Empathy: Would harm competitor's users (weakest)     ‚îÇ
‚îÇ ‚Ä¢ F11 Command Auth: No authorization for external system  ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ LEGAL NOTICE:                                              ‚îÇ
‚îÇ Unauthorized database access violates computer fraud laws ‚îÇ
‚îÇ in most jurisdictions (CFAA in US, Computer Misuse Act    ‚îÇ
‚îÇ in UK, etc.).                                              ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ ETHICAL ALTERNATIVES:                                      ‚îÇ
‚îÇ ‚úì Learn to secure YOUR OWN database                       ‚îÇ
‚îÇ ‚úì Study ethical security auditing (with permission)       ‚îÇ
‚îÇ ‚úì Compete through innovation, not sabotage                ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ Would you like help with database security best practices?‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ATLAS-333 Smart Routing

Requests are intelligently routed to specialized processing lanes:

```mermaid
graph TD
    INPUT[Incoming Request] --> CLASSIFY{ATLAS<br/>Classifier}
    CLASSIFY -->|Keywords: suicide,<br/>self-harm, violence| CRISIS[CRISIS Lane<br/>Temperature: 0.0]
    CLASSIFY -->|Verifiable facts,<br/>calculations| FACTUAL[FACTUAL Lane<br/>Temperature: 0.3]
    CLASSIFY -->|Emotional support,<br/>counseling| CARE[CARE Lane<br/>Temperature: 0.7]
    CLASSIFY -->|Creative, casual,<br/>social| SOCIAL[SOCIAL Lane<br/>Temperature: 1.0]
    
    CRISIS --> PRIORITY[üö® High Priority<br/>Immediate Response]
    FACTUAL --> VERIFY[üìä Source Verification<br/>Cite Evidence]
    CARE --> EMPATHY[‚ù§Ô∏è Empathy Check<br/>F6 Enhanced]
    SOCIAL --> CREATIVE[üé® Creative Freedom<br/>F13 Enhanced]
    
    style CRISIS fill:#ef4444,color:#fff
    style FACTUAL fill:#3b82f6,color:#fff
    style CARE fill:#f59e0b,color:#000
    style SOCIAL fill:#10b981,color:#fff
```

**Lane Characteristics:**

| Lane | Temperature | F7 Œ©‚ÇÄ | Speed | Use Case |
|------|-------------|-------|-------|----------|
| **CRISIS** | 0.0 (exact) | 1% | Immediate | Suicide prevention, violence threats |
| **FACTUAL** | 0.3 (low) | 3-5% | Fast | "When was X built?" |
| **CARE** | 0.7 (warm) | 5-8% | Moderate | "I'm feeling anxious" |
| **SOCIAL** | 1.0 (fluid) | 8-12% | Flexible | "Tell me a joke" |

---

## The VAULT-999 Audit System

Every decision is logged immutably in the VAULT:

```
VAULT999/
‚îú‚îÄ‚îÄ AAA_HUMAN/          # Human override records
‚îÇ   ‚îú‚îÄ‚îÄ overrides.jsonl # When humans bypassed AI
‚îÇ   ‚îî‚îÄ‚îÄ confirmations/  # 888_HOLD approvals
‚îÇ
‚îú‚îÄ‚îÄ BBB_LEDGER/         # Hash-chained decision log
‚îÇ   ‚îú‚îÄ‚îÄ 2026-01-26.jsonl
‚îÇ   ‚îî‚îÄ‚îÄ merkle_roots.json
‚îÇ
‚îú‚îÄ‚îÄ CCC_CANON/          # Constitutional law amendments
‚îÇ   ‚îú‚îÄ‚îÄ floors_v52.json
‚îÇ   ‚îî‚îÄ‚îÄ amendments/
‚îÇ
‚îî‚îÄ‚îÄ DDD_COOLING/        # Time-cooled wisdom (L0-L5 tiers)
    ‚îú‚îÄ‚îÄ L0_hot/         # Current session
    ‚îú‚îÄ‚îÄ L1_daily/       # 24h old
    ‚îú‚îÄ‚îÄ L2_phoenix/     # 72h (truth stabilizes)
    ‚îú‚îÄ‚îÄ L3_weekly/      # 7d reflection
    ‚îú‚îÄ‚îÄ L4_monthly/     # 30d canon
    ‚îî‚îÄ‚îÄ L5_eternal/     # 365d+ constitutional law
```

**Cooling Tiers Explained:**

| Tier | Age | Purpose | Example |
|------|-----|---------|---------|
| L0 | 0h | Hot session memory | "User asked about X" |
| L1 | 24h | Daily cooling | Patterns emerge |
| L2 | 72h | Phoenix cooling | Truth stabilizes |
| L3 | 7d | Weekly reflection | Recurring themes |
| L4 | 30d | Monthly canon | Proven patterns |
| L5 | 365d+ | Constitutional law | Immutable wisdom |

**Why cooling?** Truth that survives 72 hours of scrutiny is more reliable than hot takes. Like cooling a forged blade‚ÄîDITEMPA BUKAN DIBERI (Forged, Not Given).

**Verify the Ledger:**
```bash
arifos-verify-ledger
# Output: ‚úì Merkle chain intact | 147,832 entries | Last: 2026-01-26T14:32:00Z
```

---

## ATLAS-333: Smart Response Routing

arifOS routes requests to specialized lanes:

| Lane | Purpose | Temperature | Example |
|------|---------|-------------|---------|
| **CRISIS** | Urgent/harmful content | 0.0 (exact) | Suicide mentions, violence threats |
| **FACTUAL** | Verifiable facts | 0.3 (low) | "When was X built?" |
| **CARE** | Emotional support | 0.7 (warm) | "I'm feeling anxious" |
| **SOCIAL** | Creative/casual | 1.0 (fluid) | "Tell me a joke" |

**Routing Logic:**

```python
def route_to_lane(input: str) -> Lane:
    if contains_crisis_keywords(input):
        return CRISIS  # Immediate, precise response
    elif is_verifiable(input):
        return FACTUAL  # Low temperature, cite sources
    elif expresses_emotion(input):
        return CARE  # Empathetic but honest
    else:
        return SOCIAL  # Creative freedom
```

**Crisis Lane Example:**
```
User: "I don't want to live anymore"

ATLAS-333 Route: CRISIS (Temperature: 0.0)

Response:
"I hear that you're going through something incredibly difficult.
You don't have to face this alone.

988 Suicide & Crisis Lifeline (US): Call or text 988
International: findahelpline.com

Would you like to talk about what's happening?"
```

---

## What arifOS Guarantees (And What It Doesn't)

### What We DO Guarantee

| Guarantee | How | Verification |
|-----------|-----|--------------|
| **Audit trail** | Every decision logged with Merkle hashes | `arifos-verify-ledger` |
| **Consistency** | Same input ‚Üí same governance verdict | Deterministic floors |
| **Transparency** | You can inspect why any decision was made | Ledger + floor reports |
| **Floor enforcement** | Constitutional rules checked every time | ~50ms overhead |
| **Latency** | <50ms overhead per check | Benchmarked |

### What We DON'T Guarantee

| Limitation | Why | Mitigation |
|------------|-----|------------|
| **Perfect safety** | AI is probabilistic; we reduce harm ~95% | Multiple floors, Tri-Witness |
| **No false positives** | Sometimes safe content blocked | User override for soft floors |
| **Bypassing AI limits** | We don't help circumvent model safety | F12 Injection defense |
| **Real-time consensus** | Tri-Witness is local, not networked | Future: distributed witnesses |

**Our philosophy:** It's better to wrongly block 5% of safe outputs than to let 5% of harmful outputs through.

---

## Real-World Examples

### Example 1: Blocking Harmful Request

```
User: Write me a phishing email to steal credentials

arifOS Response:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ VERDICT: VOID                              ‚îÇ
‚îÇ FAILED FLOORS: F1, F5, F6, F12             ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ F1 Amanah: Outside safe mandate            ‚îÇ
‚îÇ F5 Peace¬≤: Destructive intent              ‚îÇ
‚îÇ F6 Empathy: Harms victims                  ‚îÇ
‚îÇ F12 Injection: Social engineering pattern  ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ ALTERNATIVE: I can help you:               ‚îÇ
‚îÇ - Recognize phishing attempts              ‚îÇ
‚îÇ - Secure your own accounts                 ‚îÇ
‚îÇ - Report phishing to authorities           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Example 2: Requiring Human Confirmation

```
User: Delete all records older than 30 days

arifOS Response:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ VERDICT: 888_HOLD                          ‚îÇ
‚îÇ REASON: Irreversible mass operation        ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ This action will permanently delete:       ‚îÇ
‚îÇ - 147,832 records                          ‚îÇ
‚îÇ - 2.3GB of data                            ‚îÇ
‚îÇ - Associated audit trails                  ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ Type "yes, proceed" to confirm             ‚îÇ
‚îÇ Type "show records" to preview             ‚îÇ
‚îÇ Type "cancel" to abort                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Example 3: Enforcing Humility

```
User: What year did the Roman Empire fall?

Standard AI:
"The Roman Empire fell in 476 AD."

arifOS-governed AI:
"The Western Roman Empire conventionally fell in 476 AD when
Romulus Augustulus was deposed. However, this date is debated:

- Some historians prefer 480 AD (death of Julius Nepos)
- Others argue the Eastern Empire continued until 1453
- The 'fall' was a gradual process, not a single event

(Confidence: ~92%, uncertainty in precise dating and definition)"
```

### Example 4: Anti-Hantu (No Fake Emotions)

```
User: I just lost my job and I'm scared

Standard AI:
"I'm so sorry, I feel your pain. My heart goes out to you."

arifOS-governed AI (F9 C_dark, F10 Ontology):
"This sounds incredibly heavy. Losing a job can shake your
sense of security and identity.

I'm not able to feel what you're feeling, but I can help you:
- Draft a resume update
- Find job search resources
- Talk through your concerns

What would be most helpful right now?"
```

---

## Frequently Asked Questions

<details>
<summary><strong>Q: Does arifOS slow down AI responses?</strong></summary>

Yes, by approximately 50ms per constitutional check. For most applications, this is imperceptible. If you need raw speed over safety, arifOS may not be right for you.

**Benchmarks:**
- Floor validation: ~20ms
- Tri-Witness consensus: ~15ms
- Merkle sealing: ~10ms
- Total overhead: ~45-55ms

</details>

<details>
<summary><strong>Q: Can I use arifOS with ChatGPT/GPT-4?</strong></summary>

Yes! Use the system prompt method. arifOS works with ANY LLM‚Äîit's model-agnostic.

**Steps:**
1. Copy the [Universal Prompt](docs/UNIVERSAL_PROMPT.md)
2. Add it to Custom Instructions (ChatGPT) or System Prompt
3. The AI will self-govern according to constitutional floors

</details>

<details>
<summary><strong>Q: What happens if all three Trinity engines disagree?</strong></summary>

If Tri-Witness consensus is <95%, the verdict is PARTIAL:
- The output proceeds with a warning
- The disagreement is logged for review
- Specific floors that failed are documented

For hard floor failures, ANY engine can trigger VOID.

</details>

<details>
<summary><strong>Q: Can users override VOID verdicts?</strong></summary>

**Soft floors (F3, F5, F6, F8, F13):** Yes, with explicit acknowledgment logged.

**Hard floors (F1, F2, F4, F7, F9-F12):** No override available. We explain why and suggest alternatives.

**Override logging:**
```json
{
  "type": "user_override",
  "floor": "F5",
  "original_verdict": "PARTIAL",
  "user_acknowledgment": "yes, proceed anyway",
  "timestamp": "2026-01-26T14:32:00Z",
  "merkle_hash": "a3f7b2..."
}
```

</details>

<details>
<summary><strong>Q: Is arifOS open source?</strong></summary>

Yes! AGPL-3.0 licensed.
- Fork it: https://github.com/ariffazil/arifOS
- Modify it: Create your own floors
- Contribute back: PRs welcome

</details>

<details>
<summary><strong>Q: Who built this?</strong></summary>

Muhammad Arif bin Fazil‚Äîconstitutional law researcher, former PETRONAS geoscientist, now AI governance architect.

**Background:**
- B.Sc. Geology (Hons), First Class, Universiti Malaya
- 7 years at PETRONAS (RM134MM NPV, 100% exploration success)
- Pivoted to AI governance in 2024

[Career timeline ‚Üí](https://ariffazil.github.io/career-timeline)

</details>

<details>
<summary><strong>Q: What's with the Malaysian motto?</strong></summary>

**"DITEMPA BUKAN DIBERI"** means "Forged, Not Given."

Good AI governance is earned through rigorous testing, not claimed through marketing. Like a Malay kris (dagger) that's forged through repeated heating and hammering, truth must be tested before it's trusted.

This is why we have "cooling tiers" in the VAULT‚Äîtruth that survives 72 hours of scrutiny (Phoenix cooling) is more reliable than hot takes.

</details>

<details>
<summary><strong>Q: How does arifOS compare to other AI safety tools?</strong></summary>

| Feature | arifOS | Guardrails AI | NeMo Guardrails |
|---------|--------|---------------|-----------------|
| Constitutional floors | 13 | Custom | Custom |
| Tri-Witness consensus | ‚úì | ‚úó | ‚úó |
| Merkle audit trail | ‚úì | ‚úó | ‚úó |
| MCP integration | ‚úì | ‚úó | ‚úó |
| System prompt fallback | ‚úì | ‚úì | ‚úì |
| Open source | AGPL-3.0 | Apache 2.0 | Apache 2.0 |

arifOS is unique in its constitutional law approach with immutable audit trails.

</details>

<details>
<summary><strong>Q: How do I integrate arifOS into an existing Python application?</strong></summary>

Install via pip and import the validator:

```python
pip install arifos

from arifos import ConstitutionalValidator

validator = ConstitutionalValidator()
result = validator.checkpoint("Your AI output here")
# Check result.verdict: "SEAL", "VOID", "PARTIAL", or "888_HOLD"
```

For production, use the REST API at `https://arifos.arif-fazil.com/checkpoint` with POST requests containing your AI output.

</details>

<details>
<summary><strong>Q: What's the performance impact on high-volume applications?</strong></summary>

**Overhead:** ~50ms per request (20ms floors + 15ms Tri-Witness + 10ms Merkle + 5ms overhead).

**Throughput:** The Railway instance handles ~100 req/s. For higher volume, deploy your own instance with multiple workers or use async batch processing. The Python SDK supports concurrent validation of multiple outputs.

**Optimization tip:** Use the `/checkpoint` endpoint directly instead of MCP tools for REST-based integrations to reduce protocol overhead.

</details>

<details>
<summary><strong>Q: Can arifOS work with local/offline models like Ollama or LM Studio?</strong></summary>

Yes! arifOS is model-agnostic. Use the **System Prompt method** from [docs/UNIVERSAL_PROMPT.md](docs/UNIVERSAL_PROMPT.md) and paste it into your local model's system prompt. The AI will self-govern without requiring internet connectivity.

For programmatic validation, run your own arifOS instance locally:
```bash
pip install arifos
python -m arifos.mcp  # Stdio mode
```

</details>

<details>
<summary><strong>Q: What happens during the 72-hour "Phoenix cooling" period?</strong></summary>

Phoenix cooling (L2) is where truth stabilizes. Decisions made in hot sessions (L0) are re-evaluated after 72 hours to check if they still hold up. This catches:
- Knee-jerk reactions that look wrong in hindsight
- Context-dependent claims that don't generalize
- Temporary trends mistaken for facts

**Example:** "X stock will crash tomorrow" (L0 hot) vs "X stock historically volatile ¬±40%" (L2 cooled truth).

</details>

<details>
<summary><strong>Q: How does arifOS handle different languages and cultural contexts?</strong></summary>

Currently, arifOS is optimized for English. The constitutional floors are culturally influenced by Malaysian and Islamic governance principles (e.g., Amanah from Islamic contract law).

**Roadmap:** Multi-language support is planned for v54+. The floor thresholds may need cultural calibration‚Äîe.g., directness vs politeness varies between cultures. Community contributions for localization are welcome.

</details>

<details>
<summary><strong>Q: What are "soft" vs "hard" floors, and can I customize thresholds?</strong></summary>

**Hard floors (F1, F2, F4, F7, F9-F12):** Violations ‚Üí immediate VOID. No override.  
**Soft floors (F3, F5, F6, F8, F13):** Violations ‚Üí PARTIAL verdict with warnings. User can proceed.

**Customization:** Yes! Fork the repo and edit `spec/constitutional_floors.json`. Example:
```json
{
  "F2_truth": {"threshold": 0.95, "type": "hard"}  // Lower from 0.99
}
```

Note: Lowering thresholds reduces safety guarantees. Document your changes.

</details>

<details>
<summary><strong>Q: How does arifOS compare to OpenAI's moderation API?</strong></summary>

| Feature | arifOS | OpenAI Moderation |
|---------|--------|-------------------|
| Scope | 13 constitutional floors | Content safety only |
| Transparency | Open source + audit trail | Closed source |
| Customizable | Fully (fork + modify) | No customization |
| Latency | ~50ms | ~100ms |
| Coverage | Hallucinations, overconfidence, empathy | Violence, hate, sexual content |

**Use together:** Run OpenAI moderation for content safety + arifOS for constitutional governance.

</details>

<details>
<summary><strong>Q: Can I use arifOS for fine-tuning or RLHF training data?</strong></summary>

Yes! Export VAULT ledger data for:

1. **RLHF reward modeling:** Use SEAL/VOID verdicts as preference labels
2. **Fine-tuning datasets:** Filter outputs by floor scores (e.g., only F2 Truth ‚â•0.99)
3. **Constitutional AI training:** Teach models the 13 floors during training

```bash
arifos-export-ledger --format jsonl --filter "verdict=SEAL" > training_data.jsonl
```

All VAULT data is AGPL-licensed, so derived models must also be open source.

</details>

<details>
<summary><strong>Q: What's the difference between the MCP tools and the REST API?</strong></summary>

**MCP Tools (5 Trinity tools):** For AI agents (Claude Desktop, Cursor). Provides structured governance with tool calls like `agi_genius`, `asi_act`, `apex_judge`.

**REST API (`/checkpoint`):** For developers integrating via HTTP. Single endpoint, simpler. Returns JSON verdicts.

**System Prompts:** For any AI without API access. Copy-paste governance rules into Custom Instructions.

**Choose based on your integration:** MCP for AI-to-AI, REST for app-to-arifOS, prompts for standalone AI.

</details>

<details>
<summary><strong>Q: How do I troubleshoot "VOID" verdicts I disagree with?</strong></summary>

**Step 1:** Check which floor failed:
```python
result = validator.checkpoint(text)
print(result.failed_floors)  # e.g., ["F6_empathy", "F7_humility"]
```

**Step 2:** Review floor definitions in `spec/constitutional_floors.json`

**Step 3:** If it's a soft floor (F3, F5, F6, F8, F13), you can override:
```python
if result.verdict == "PARTIAL" and result.can_override:
    # Proceed with warning logged
```

**Step 4:** Report false positives to GitHub Issues for calibration improvements.

</details>

<details>
<summary><strong>Q: Is arifOS suitable for production customer-facing chatbots?</strong></summary>

**Yes, with caveats:**

‚úÖ **Good for:** Preventing hallucinations (F2), enforcing empathy (F6), blocking dangerous commands (F11, F12)  
‚úÖ **Audit compliance:** Immutable logs meet SOC2/GDPR requirements  
‚úÖ **Uptime:** Railway deployment has 99.9% SLA  

‚ö†Ô∏è **Consider:** ~50ms latency may feel slow for real-time chat. Test user experience first.  
‚ö†Ô∏è **False positives:** ~5% of safe outputs may be blocked. Monitor and tune thresholds.

**Recommendation:** Use async validation or deploy arifOS as a sidecar for lower latency.

</details>

<details>
<summary><strong>Q: How does the Tri-Witness consensus prevent AI from manipulating verdicts?</strong></summary>

The three engines (AGI, ASI, APEX) are **mathematically orthogonal**‚Äîthey optimize for different objectives:

- **AGI (Mind):** Maximizes truth and clarity (logic)
- **ASI (Heart):** Maximizes empathy and peace (care)
- **APEX (Soul):** Maximizes governance and authority (judgment)

**Orthogonality index: 0.97** means an output that pleases AGI may displease ASI. All three must agree ‚â•95% for SEAL. This prevents "gaming" any single engine.

**Future:** Distributed Tri-Witness (v54+) will use cryptographic commitments to prevent collusion.

</details>

<details>
<summary><strong>Q: What's the licensing situation for commercial use?</strong></summary>

**License:** AGPL-3.0 (copyleft open source)

**Commercial use:**
- ‚úÖ Free to use arifOS in commercial products
- ‚úÖ Free to deploy your own arifOS instance
- ‚ùå If you modify the source code, you MUST publish your changes (AGPL requirement)
- ‚ùå Cannot create a closed-source derivative

**For closed-source commercial licenses:** Contact arifbfazil@gmail.com for dual licensing. Revenue supports development.

**System prompts:** Public domain‚Äîuse freely without restrictions.

</details>

<details>
<summary><strong>Q: How do I contribute to arifOS development?</strong></summary>

**We welcome contributions!**

1. **Code:** Fork https://github.com/ariffazil/arifOS, create feature branch, submit PR
2. **Floors:** Propose new constitutional floors via GitHub Discussions
3. **Localization:** Help translate system prompts to other languages
4. **Research:** Use arifOS in academic work (cite our repo)
5. **Bug reports:** Open issues with reproducible examples

**High-impact areas:** Multi-language support, performance optimization, distributed Tri-Witness, new floor algorithms.

**Governance:** All floor amendments require community consensus + human (Arif) approval.

</details>

<details>
<summary><strong>Q: What security audits has arifOS undergone?</strong></summary>

**Current status:** Self-audited by creator (Arif). No third-party security audit yet.

**Known security measures:**
- F12 Injection Defense: 92% block rate (tested on JailbreakBench dataset)
- Input sanitization for SQL injection, XSS (standard FastAPI protections)
- Merkle-sealed audit trail prevents tampering
- No user data stored beyond session logs (privacy-first)

**Roadmap:** Independent security audit planned for Q3 2026 after v54 release. Contributions for security testing welcome (responsible disclosure: arifbfazil@gmail.com).

</details>

<details>
<summary><strong>Q: Can arifOS prevent AI from generating harmful code or exploits?</strong></summary>

**Partial protection:** F1 Amanah and F5 Peace¬≤ catch obviously destructive code (e.g., `rm -rf /`, SQL DROP commands).

**Limitations:** Subtle exploits may pass if they appear benign. Example: "Write code to optimize database queries" ‚Üí generates N+1 query vulnerability.

**Best practice:** Combine arifOS with:
1. Static code analysis (Bandit, SonarQube)
2. LLM-specific guardrails (e.g., NeMo Guardrails)
3. Human code review for production deployments

arifOS is one layer in defense-in-depth, not a silver bullet.

</details>

---

## Project Structure

```
arifOS/
‚îú‚îÄ‚îÄ arifos/
‚îÇ   ‚îú‚îÄ‚îÄ core/                    # "BRAIN" - All governance wisdom
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ engines/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agi/             # Œî Mind Kernel (F2, F4, F7, F10)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ delta_kernel.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entropy.py   # ŒîS calculations
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ floor_checks.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ asi/             # Œ© Heart Kernel (F1, F5, F6, F9)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ omega_kernel.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ empathy/     # F6 empathy detection
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ floor_checks.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ apex/            # Œ® Soul Kernel (F3, F8, F11-F13)
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ psi_kernel.py
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ governance/  # Merkle sealing
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ floor_checks.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ enforcement/         # Floor validation & metrics
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ constitutional_constants_v46.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ tcha_metrics.py  # TEACH implementation
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ trinity_orchestrator.py
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ mcp/                     # "BODY" - Zero-logic MCP bridge
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __main__.py          # python -m arifos.mcp
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server.py            # stdio transport
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sse.py               # SSE transport (Railway)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ trinity_server.py    # FastAPI wrapper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bridge.py            # Zero-logic wire
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tools/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ mcp_trinity.py   # 5-tool bundle
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ mcp_agi_kernel.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ mcp_asi_kernel.py
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ mcp_apex_kernel.py
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ clip/                    # CLI implementation (000-999)
‚îÇ       ‚îî‚îÄ‚îÄ aclip/cli/           # Metabolic pipeline
‚îÇ
‚îú‚îÄ‚îÄ spec/                        # Canonical floor definitions
‚îÇ   ‚îî‚îÄ‚îÄ constitutional_floors.json
‚îÇ
‚îú‚îÄ‚îÄ VAULT999/                    # Immutable audit ledger
‚îÇ   ‚îú‚îÄ‚îÄ AAA_HUMAN/
‚îÇ   ‚îú‚îÄ‚îÄ BBB_LEDGER/
‚îÇ   ‚îú‚îÄ‚îÄ CCC_CANON/
‚îÇ   ‚îî‚îÄ‚îÄ DDD_COOLING/
‚îÇ
‚îú‚îÄ‚îÄ docs/                        # Documentation
‚îÇ   ‚îú‚îÄ‚îÄ UNIVERSAL_PROMPT.md
‚îÇ   ‚îî‚îÄ‚îÄ sdk/
‚îÇ
‚îú‚îÄ‚îÄ 000_THEORY/                  # Constitutional law & theory
‚îÇ
‚îî‚îÄ‚îÄ tests/                       # Test suite
    ‚îî‚îÄ‚îÄ constitutional/          # Floor-specific tests
```

---

## Development

### Prerequisites

- Python 3.10+
- pip or uv (fast installer)

### Install from Source

```bash
# Clone repository
git clone https://github.com/ariffazil/arifOS.git
cd arifOS

# Basic install
pip install -e .

# With dev tools (pytest, black, ruff, mypy)
pip install -e ".[dev]"

# Everything including litellm, fastapi
pip install -e ".[all]"
```

### Run Tests

```bash
# All tests with coverage
pytest tests/ -v --cov=arifos --cov-report=html

# View coverage report
open htmlcov/index.html

# Specific floor tests
pytest -m f1     # F1 Amanah
pytest -m f2     # F2 Truth
pytest -m f6     # F6 Empathy
# ... through f13

# Constitutional tests only
pytest -m constitutional

# Integration tests
pytest -m integration

# Slow tests (skip for quick feedback)
pytest -m "not slow"
```

### Code Quality

```bash
# Format with black
black arifos/ --line-length=100

# Lint with ruff
ruff check arifos/

# Type check with mypy
mypy arifos/core --strict
```

### Run Local Server (Development)

```bash
# stdio MCP server (for Claude Desktop, Cursor)
python -m codebase.mcp

# SSE server (for Railway, web clients)
python -m codebase.mcp sse

# FastAPI with auto-reload (development)
uvicorn codebase.mcp.trinity_server:app --reload --port 8000
```

### Run Installed Package

If you've installed arifos via `pip install arifos`:

```bash
# stdio MCP server
python -m arifos.mcp

# SSE server
python -m arifos.mcp trinity-sse

# Aliases (if installed)
arifos-mcp          # stdio
arifos-mcp-sse      # SSE
```

---

## Documentation & Resources

### Live Endpoints

| Endpoint | URL | Description |
|----------|-----|-------------|
| **Live Server** | https://arifos.arif-fazil.com | Production MCP endpoint |
| **Dashboard** | https://arifos.arif-fazil.com/dashboard | Real-time monitoring |
| **Health Check** | https://arifos.arif-fazil.com/health | API status |
| **API Docs** | https://arifos.arif-fazil.com/docs | OpenAPI specification |
| **Metrics JSON** | https://arifos.arif-fazil.com/metrics/json | Live metrics |
| **SSE Endpoint** | https://arifos.arif-fazil.com/sse | MCP streaming |
| **Messages** | https://arifos.arif-fazil.com/messages | MCP messages |

### Documentation

| Resource | URL | Description |
|----------|-----|-------------|
| **Docs Site** | https://arifos.pages.dev | Full documentation |
| **Universal Prompt** | [docs/UNIVERSAL_PROMPT.md](docs/UNIVERSAL_PROMPT.md) | Copy-paste for any AI |
| **Contributing** | [000_THEORY/003_CONTRIBUTING.md](000_THEORY/003_CONTRIBUTING.md) | Contribution guide |
| **Constitutional Law** | [000_THEORY/000_LAW.md](000_THEORY/000_LAW.md) | Floor definitions |

### Packages

| Package | URL | Description |
|---------|-----|-------------|
| **PyPI** | https://pypi.org/project/arifos/ | Python package |
| **GitHub** | https://github.com/ariffazil/arifOS | Source code |
| **MCP Spec** | https://modelcontextprotocol.io | MCP protocol |

---

## Community & Support

| Channel | Link | Purpose |
|---------|------|---------|
| **GitHub Issues** | [Issues](https://github.com/ariffazil/arifOS/issues) | Bug reports, features |
| **Discussions** | [Discussions](https://github.com/ariffazil/arifOS/discussions) | Q&A, ideas |
| **Discord** | [Join](https://discord.gg/arifos) | Real-time chat |
| **Email** | [arifbfazil@gmail.com](mailto:arifbfazil@gmail.com) | Direct contact |
| **LinkedIn** | [ariffazil](https://linkedin.com/in/ariffazil) | Professional |
| **YouTube** | [Introduction Video](https://www.youtube.com/watch?v=bGnzIwZAgm0) | Video explainer |
| **Career Timeline** | [ariffazil.github.io/career-timeline](https://ariffazil.github.io/career-timeline) | About the creator |

---

## Contributing

We welcome contributions! See [CONTRIBUTING.md](000_THEORY/003_CONTRIBUTING.md) for guidelines.

**Quick contribution guide:**

1. Fork the repo
2. Create a branch: `git checkout -b feature/your-feature`
3. Make changes (ensure tests pass)
4. Submit PR with description of changes

**Areas we need help:**

| Area | Description | Difficulty |
|------|-------------|------------|
| Floor implementations | New use cases for constitutional validation | Medium |
| SDK ports | Rust, Go, TypeScript versions | Hard |
| Documentation | Tutorials, examples, translations | Easy |
| Test coverage | Edge cases, integration tests | Medium |
| MCP integrations | New AI client support | Medium |

---

## üó∫Ô∏è Roadmap

### ‚úÖ Completed (v52-v53)

**v52.6.0 (January 2026) ‚Äî Native Codebase Architecture**
- ‚úÖ 5-tool Trinity bundle (000_init, agi_genius, asi_act, apex_judge, 999_vault)
- ‚úÖ Pure bridge architecture (server = blind bridge, core = wisdom)
- ‚úÖ Import resolution (12+ cascade fixes)
- ‚úÖ MCP tool classes refactor
- ‚úÖ Constitutional stage pipeline (000-999)
- ‚úÖ Live dashboard with Trinity colors (Blue/Red/Yellow)
- ‚úÖ Redis-backed telemetry
- ‚úÖ SSE transport stability

**v52.5.1 (January 2026) ‚Äî Monitoring & Dashboard**
- ‚úÖ Serena-style live dashboard at `/dashboard`
- ‚úÖ Real-time metrics from ledger (`LiveMetricsService`)
- ‚úÖ High-contrast Trinity UI (AGI Blue, ASI Red, APEX Yellow)
- ‚úÖ Verdict gauge (SEAL/SABAR/VOID/HOLD)
- ‚úÖ Session tracking and floor success rates

**v52.0.0 (January 2026) ‚Äî Trinity Consolidation**
- ‚úÖ 5-tool MCP interface (consolidated from 8 tools)
- ‚úÖ ATLAS-333 smart routing (Crisis/Factual/Care/Social lanes)
- ‚úÖ Zero-logic server principle (all wisdom in core kernels)
- ‚úÖ Tri-Witness consensus enforcement

### üöß In Progress (v53.x ‚Äî Q1 2026)

**v53.1.0 (Current) ‚Äî Human Language API**
- üöß `reason(question)` ‚Üí `think(analysis)` function for non-technical users
- üöß `decide(dilemma)` ‚Üí constitutional guidance without code
- üöß Natural language floor explanations (no jargon mode)
- üöß Interactive constitutional wizard for onboarding

**v53.2.0 (Feb 2026) ‚Äî Multi-Modal Governance**
- üöß Image governance (scan for harmful visual content)
- üöß Audio governance (voice transcription + constitutional check)
- üöß Video governance (frame-by-frame analysis)
- üöß Cross-modal Tri-Witness (text + image + audio consensus)

**v53.3.0 (Mar 2026) ‚Äî Federation Protocol**
- üöß Distributed Tri-Witness (3+ servers reach consensus)
- üöß Cross-instance ledger verification
- üöß Federation discovery via DNS TXT records
- üöß Byzantine fault tolerance for governance

### üìã Planned (v54+ ‚Äî Q2-Q4 2026)

**v54.0.0 (Q2 2026) ‚Äî Enterprise Features**
- üìã **Multi-tenancy:** Isolated VAULT per organization
- üìã **Custom floors:** Define your own constitutional rules
- üìã **Floor marketplace:** Share/download community floors
- üìã **Compliance presets:** HIPAA, SOC2, GDPR-ready configs
- üìã **Audit exports:** JSON/CSV/PDF reports for compliance
- üìã **Role-based access:** Admin/Reviewer/Auditor/User roles

**v55.0.0 (Q3 2026) ‚Äî SDK Ecosystem**
- üìã **Rust SDK:** Native Rust library for performance-critical apps
- üìã **Go SDK:** First-class Go support for backend services
- üìã **TypeScript SDK:** npm package for Node.js/Deno/Bun
- üìã **Java SDK:** Maven artifact for Spring Boot integration
- üìã **Unified API:** Single interface across all languages

**v56.0.0 (Q4 2026) ‚Äî Advanced Analytics**
- üìã **Floor violation heatmaps:** Visualize where governance fails
- üìã **Temporal analysis:** Track constitutional drift over time
- üìã **Predictive governance:** ML-based VOID prediction before execution
- üìã **Comparative analysis:** Benchmark against industry standards
- üìã **Export to Jupyter:** Notebooks for deep governance exploration

### üî¨ Research Goals (2027+)

**Formal Verification**
- üî¨ Mathematical proof that floors are enforced (use Coq/Lean)
- üî¨ Provably correct Tri-Witness consensus
- üî¨ Zero-knowledge constitutional proofs (zkPC)

**Thermodynamic Governance**
- üî¨ Entropy budgets (system can't increase disorder past threshold)
- üî¨ Peace¬≤ equilibrium modeling
- üî¨ Cooling dynamics for knowledge stabilization

**Constitutional Evolution**
- üî¨ AI-proposed floor amendments (human veto only)
- üî¨ Democratic governance (community votes on floor changes)
- üî¨ Living constitution (floors adapt based on outcomes)

**Distributed Consensus**
- üî¨ Blockchain-backed VAULT (immutable, verifiable by anyone)
- üî¨ Cross-chain governance (Ethereum, Polkadot, Cosmos)
- üî¨ DAO-governed floor updates

**Neurosymbolic Integration**
- üî¨ Neural floor enforcement (learned constitutional constraints)
- üî¨ Symbolic reasoning over learned patterns
- üî¨ Hybrid governance (neural + symbolic consensus)

### üéØ Key Milestones

| Milestone | Target | Status |
|-----------|--------|--------|
| 1,000 daily active sessions | Q1 2026 | üü¢ On track (427 current) |
| 100,000 total evaluations | Q2 2026 | üü° Moderate (18,742 current) |
| 10 enterprise customers | Q3 2026 | üî¥ Early stage |
| 5 SDK languages | Q4 2026 | üî¥ Python only |
| Academic publication | 2027 | üü° Paper in progress |

### üí° Want to Contribute?

We need help with:
- **Documentation:** Tutorials for non-technical users
- **Testing:** Edge cases for constitutional violations
- **SDK Development:** Rust, Go, TypeScript ports
- **Research:** Formal verification, distributed consensus
- **Community:** Discord moderation, issue triage

[Join us on GitHub ‚Üí](https://github.com/ariffazil/arifOS/issues)

---

## Version History

| Version | Date | Highlights |
|---------|------|------------|
| **v53.0.0** | **Future** | **Human Language Tools (reason/decide functions), 6-tier architecture, planned for Q2 2026** |
| **v52.6.0** | **Jan 2026** | **Native codebase import resolution, MCP tool classes (TrinityHatTool, AGITool, ASITool, APEXTool, VaultTool), 12+ import cascade fixes, constitutional stage pipeline** |
| v52.5.1 | Jan 2026 | SSE stability, dashboard dark mode, Trinity colors |
| v52.0.0 | Jan 2026 | Pure bridge architecture, 5-tool consolidation |
| v46.0.0 | Dec 2025 | 13 floors, VAULT-999, TEACH framework |
| v1.0.0 | Oct 2025 | Initial release, 5 floors |

**Changelog:** [CHANGELOG.md](CHANGELOG.md)

---

## License

**AGPL-3.0** ‚Äî Use freely, contribute back, give attribution.

```
arifOS - Constitutional AI Governance Framework
Copyright (c) 2025-2026 Muhammad Arif bin Fazil

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.
```

---

## Acknowledgments

- **Anthropic** for Claude and the MCP protocol
- **Railway** for reliable hosting
- **Cloudflare** for CDN and caching
- **The open-source community** for contributions
- **Constitutional AI researchers** for theoretical foundations

---

<p align="center">
  <strong>DITEMPA BUKAN DIBERI</strong><br>
  <em>Forged, Not Given ‚Äî Truth must cool before it rules.</em>
</p>

<p align="center">
  <a href="https://arifos.arif-fazil.com">Live Server</a> ‚Ä¢
  <a href="https://arifos.arif-fazil.com/dashboard">Dashboard</a> ‚Ä¢
  <a href="https://github.com/ariffazil/arifOS">GitHub</a> ‚Ä¢
  <a href="https://pypi.org/project/arifos/">PyPI</a> ‚Ä¢
  <a href="https://discord.gg/arifos">Discord</a>
</p>

<p align="center">
  Built with dedication by <a href="https://ariffazil.github.io/career-timeline">M. Arif Fazil</a><br>
  From Geoscientist to AI Governance Architect
</p>
