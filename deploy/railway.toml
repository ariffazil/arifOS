[build]
builder = "nixpacks"
buildCommand = "pip install -e ."

[deploy]
startCommand = "python -m arifos.mcp trinity-sse"
healthcheckPath = "/health"
healthcheckTimeout = 120
restartPolicyType = "ON_FAILURE"
numReplicas = 1

# Note: Railway uses PORT env var for healthchecks
# Healthcheck hostname: healthcheck.railway.app (allowed by default in FastAPI)
# See: https://docs.railway.com/guides/healthchecks
